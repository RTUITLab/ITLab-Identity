[2020-01-24T10:41:05.7925536+00:00][WARN][1][Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] Storing keys in a directory '"/root/.aspnet/DataProtection-Keys"' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
[2020-01-24T10:41:05.8720900+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using '"/root/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
[2020-01-24T10:41:05.9167247+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] Creating key {ea077e80-7249-4968-bd96-2d00b0832c55} with creation date 2020-01-24 10:41:05Z, activation date 2020-01-24 10:41:05Z, and expiration date 2020-04-23 10:41:05Z.
[2020-01-24T10:41:05.9260696+00:00][WARN][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] No XML encryptor configured. Key {ea077e80-7249-4968-bd96-2d00b0832c55} may be persisted to storage in unencrypted form.
[2020-01-24T10:41:05.9317855+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] Writing data to file '"/root/.aspnet/DataProtection-Keys/key-ea077e80-7249-4968-bd96-2d00b0832c55.xml"'.
[2020-01-24T10:41:06.0240629+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "3.1.0.0"
[2020-01-24T10:41:06.0415468+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2020-01-24T10:41:06.0416474+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for authentication
[2020-01-24T10:41:06.0418225+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-in
[2020-01-24T10:41:06.0419572+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-out
[2020-01-24T10:41:06.0421103+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for challenge
[2020-01-24T10:41:06.0422502+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for forbid
[2020-01-24T10:41:06.3478351+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:80"
[2020-01-24T10:41:06.3488014+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2020-01-24T10:41:06.3490051+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2020-01-24T10:41:06.3497999+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2020-01-24T10:44:02.5408696+00:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32771/  
[2020-01-24T10:44:02.5767243+00:00][DBUG][14][IdentityServer4.Startup] Login Url: "/Account/Login"
[2020-01-24T10:44:02.5771452+00:00][DBUG][14][IdentityServer4.Startup] Login Return Url Parameter: "ReturnUrl"
[2020-01-24T10:44:02.5776214+00:00][DBUG][14][IdentityServer4.Startup] Logout Url: "/Account/Logout"
[2020-01-24T10:44:02.5793323+00:00][DBUG][14][IdentityServer4.Startup] ConsentUrl Url: "/consent"
[2020-01-24T10:44:02.5794793+00:00][DBUG][14][IdentityServer4.Startup] Consent Return Url Parameter: "returnUrl"
[2020-01-24T10:44:02.5796890+00:00][DBUG][14][IdentityServer4.Startup] Error Url: "/home/error"
[2020-01-24T10:44:02.5798020+00:00][DBUG][14][IdentityServer4.Startup] Error Id Parameter: "errorId"
[2020-01-24T10:44:02.6581518+00:00][INFO][14][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T10:44:02.6865572+00:00][INFO][14][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T10:44:02.7811076+00:00][INFO][14][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T10:44:04.0235896+00:00][INFO][14][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 1262.2574ms.
[2020-01-24T10:44:04.0265061+00:00][INFO][14][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 1338.8674ms
[2020-01-24T10:44:04.0276674+00:00][INFO][14][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T10:44:04.0347411+00:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 1496.4276ms 200 text/html; charset=utf-8
[2020-01-24T10:44:04.0954219+00:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32771/dist/css/web.css?v=xyATVK1qJOMwc5iqad_yMVmZ1bPSh2NrIU-LFUH1QnQ  
[2020-01-24T10:44:04.1101965+00:00][INFO][18][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32771/images/skoruba-icon.png  
[2020-01-24T10:44:04.1328562+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32771/dist/js/bundle.min.js?v=gx980t9VMyQmp-CYZN_SNKOVwaBwsiIO8EaS2b0oj1I  
[2020-01-24T10:44:04.1664806+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32771/dist/css/bundle.min.css?v=oT_78HNbw1icHDGc5AceMykUYmOGOJKGRMVmkJ7XyTk  
[2020-01-24T10:44:04.2034939+00:00][INFO][12][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/web.css"'. Physical path: '"/app/wwwroot/dist/css/web.css"'
[2020-01-24T10:44:04.2052102+00:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 109.314ms 200 text/css
[2020-01-24T10:44:04.2257664+00:00][INFO][18][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/images/skoruba-icon.png"'. Physical path: '"/app/wwwroot/images/skoruba-icon.png"'
[2020-01-24T10:44:04.2257663+00:00][INFO][13][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/bundle.min.css"'. Physical path: '"/app/wwwroot/dist/css/bundle.min.css"'
[2020-01-24T10:44:04.2287987+00:00][INFO][18][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 118.6934ms 200 image/png
[2020-01-24T10:44:04.2260568+00:00][INFO][15][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/js/bundle.min.js"'. Physical path: '"/app/wwwroot/dist/js/bundle.min.js"'
[2020-01-24T10:44:04.2297450+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 96.8706ms 200 application/javascript
[2020-01-24T10:44:04.2319007+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 65.3946ms 200 text/css
[2020-01-24T10:44:04.3840932+00:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32771/dist/fonts/open-iconic.woff  
[2020-01-24T10:44:04.4104472+00:00][INFO][13][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/open-iconic.woff"'. Physical path: '"/app/wwwroot/dist/fonts/open-iconic.woff"'
[2020-01-24T10:44:04.4112597+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 27.2181ms 200 application/font-woff
[2020-01-24T10:44:04.4464499+00:00][INFO][18][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32771/favicon.ico  
[2020-01-24T10:44:04.4924574+00:00][INFO][13][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/favicon.ico"'. Physical path: '"/app/wwwroot/favicon.ico"'
[2020-01-24T10:44:04.4930474+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 46.4165ms 200 image/x-icon
[2020-01-24T10:44:06.3490344+00:00][INFO][18][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32771/Account/Login  
[2020-01-24T10:44:06.3757063+00:00][INFO][18][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T10:44:06.4052241+00:00][INFO][18][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T10:44:06.4325268+00:00][INFO][18][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-01-24T10:44:06.4767078+00:00][INFO][18][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 45.579ms.
[2020-01-24T10:44:06.4772849+00:00][INFO][18][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)" in 71.7264ms
[2020-01-24T10:44:06.4778794+00:00][INFO][18][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T10:44:06.4786026+00:00][INFO][18][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 130.1211ms 200 text/html; charset=utf-8
[2020-01-24T10:44:06.6748337+00:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32771/dist/fonts/fontawesome-webfont.woff2?v=4.7.0  
[2020-01-24T10:44:06.6906407+00:00][INFO][18][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/fontawesome-webfont.woff2"'. Physical path: '"/app/wwwroot/dist/fonts/fontawesome-webfont.woff2"'
[2020-01-24T10:44:06.6940258+00:00][INFO][18][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 18.0528ms 200 font/woff2
[2020-01-24T10:44:17.7288653+00:00][INFO][18][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:32771/Account/Login application/x-www-form-urlencoded 259
[2020-01-24T10:44:17.7335191+00:00][DBUG][18][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Account/Login" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2020-01-24T10:44:17.7369978+00:00][INFO][18][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-01-24T10:44:17.7520816+00:00][INFO][18][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T10:44:17.7637740+00:00][INFO][18][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ITLab.Identity.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T10:44:31.1173029+00:00][INFO][18][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"DataBaseContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.SqlServer "
[2020-01-24T10:44:32.5420086+00:00][EROR][18][Microsoft.EntityFrameworkCore.Database.Command] Failed executing DbCommand ("134"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MiddleName], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
[2020-01-24T10:44:32.6372779+00:00][EROR][18][Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type '"BackEnd.DataBase.DataBaseContext"'."
""Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AspNetUsers'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d307b9ae-f842-4ad2-bdf6-6472018d6b30
Error Number:208,State:1,Class:16"
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AspNetUsers'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d307b9ae-f842-4ad2-bdf6-6472018d6b30
Error Number:208,State:1,Class:16
[2020-01-24T10:44:32.9683533+00:00][INFO][18][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)" in 15204.1905ms
[2020-01-24T10:44:32.9693680+00:00][INFO][18][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T10:44:32.9745245+00:00][EROR][18][Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AspNetUsers'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at ITLab.Identity.STS.Identity.Helpers.UserResolver`1.GetUserAsync(String login) in C:\Projects\ITLab.Identity\src\ITLab.Identity.STS.Identity\Helpers\UserResolver.cs:line 23
   at ITLab.Identity.STS.Identity.Controllers.AccountController`2.Login(LoginInputModel model, String button) in C:\Projects\ITLab.Identity\src\ITLab.Identity.STS.Identity\Controllers\AccountController.cs:line 132
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<[2020-01-24T10:54:50.0181005+00:00][WARN][1][Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] Storing keys in a directory '"/root/.aspnet/DataProtection-Keys"' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
[2020-01-24T10:54:50.0982327+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using '"/root/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
[2020-01-24T10:54:50.1522894+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] Creating key {b4bfd1f6-36d9-4ebf-b252-18909662eac7} with creation date 2020-01-24 10:54:50Z, activation date 2020-01-24 10:54:50Z, and expiration date 2020-04-23 10:54:50Z.
[2020-01-24T10:54:50.1640801+00:00][WARN][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] No XML encryptor configured. Key {b4bfd1f6-36d9-4ebf-b252-18909662eac7} may be persisted to storage in unencrypted form.
[2020-01-24T10:54:50.1728428+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] Writing data to file '"/root/.aspnet/DataProtection-Keys/key-b4bfd1f6-36d9-4ebf-b252-18909662eac7.xml"'.
[2020-01-24T10:54:50.2802409+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "3.1.0.0"
[2020-01-24T10:54:50.3046335+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2020-01-24T10:54:50.3047987+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for authentication
[2020-01-24T10:54:50.3049492+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-in
[2020-01-24T10:54:50.3052410+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-out
[2020-01-24T10:54:50.3069869+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for challenge
[2020-01-24T10:54:50.3083560+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for forbid
[2020-01-24T10:54:50.6300584+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:80"
[2020-01-24T10:54:50.6327700+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2020-01-24T10:54:50.6331320+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2020-01-24T10:54:50.6334859+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2020-01-24T10:54:55.0786191+00:00][INFO][9][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/  
[2020-01-24T10:54:55.1199336+00:00][DBUG][9][IdentityServer4.Startup] Login Url: "/Account/Login"
[2020-01-24T10:54:55.1200814+00:00][DBUG][9][IdentityServer4.Startup] Login Return Url Parameter: "ReturnUrl"
[2020-01-24T10:54:55.1205372+00:00][DBUG][9][IdentityServer4.Startup] Logout Url: "/Account/Logout"
[2020-01-24T10:54:55.1208846+00:00][DBUG][9][IdentityServer4.Startup] ConsentUrl Url: "/consent"
[2020-01-24T10:54:55.1209944+00:00][DBUG][9][IdentityServer4.Startup] Consent Return Url Parameter: "returnUrl"
[2020-01-24T10:54:55.1212610+00:00][DBUG][9][IdentityServer4.Startup] Error Url: "/home/error"
[2020-01-24T10:54:55.1218781+00:00][DBUG][9][IdentityServer4.Startup] Error Id Parameter: "errorId"
[2020-01-24T10:54:55.2135229+00:00][INFO][9][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T10:54:55.2456438+00:00][INFO][9][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T10:54:55.3097918+00:00][INFO][9][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T10:54:56.2124127+00:00][EROR][9][Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery] An exception was thrown while deserializing the token.
Microsoft.AspNetCore.Antiforgery.AntiforgeryValidationException: The antiforgery token could not be decrypted.
 ---> System.Security.Cryptography.CryptographicException: The key {ea077e80-7249-4968-bd96-2d00b0832c55} was not found in the key ring.
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgeryTokenSerializer.Deserialize(String serializedToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgeryTokenSerializer.Deserialize(String serializedToken)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.GetCookieTokenDoesNotThrow(HttpContext httpContext)
[2020-01-24T10:54:56.4215341+00:00][INFO][9][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 1115.9398ms.
[2020-01-24T10:54:56.4237930+00:00][INFO][9][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 1176.6375ms
[2020-01-24T10:54:56.4251248+00:00][INFO][9][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T10:54:56.4315721+00:00][INFO][9][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 1358.0817ms 200 text/html; charset=utf-8
[2020-01-24T10:54:56.5083460+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/images/skoruba-icon.png  
[2020-01-24T10:54:56.5096373+00:00][INFO][9][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/dist/css/bundle.min.css?v=oT_78HNbw1icHDGc5AceMykUYmOGOJKGRMVmkJ7XyTk  
[2020-01-24T10:54:56.5518617+00:00][INFO][10][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/images/skoruba-icon.png"'. Physical path: '"/app/wwwroot/images/skoruba-icon.png"'
[2020-01-24T10:54:56.5533960+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 45.0385ms 200 image/png
[2020-01-24T10:54:56.5541751+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/dist/js/bundle.min.js?v=gx980t9VMyQmp-CYZN_SNKOVwaBwsiIO8EaS2b0oj1I  
[2020-01-24T10:54:56.5959759+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/dist/css/web.css?v=xyATVK1qJOMwc5iqad_yMVmZ1bPSh2NrIU-LFUH1QnQ  
[2020-01-24T10:54:56.6173074+00:00][INFO][10][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/web.css"'. Physical path: '"/app/wwwroot/dist/css/web.css"'
[2020-01-24T10:54:56.6175328+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 21.5625ms 200 text/css
[2020-01-24T10:54:56.6302547+00:00][INFO][13][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/js/bundle.min.js"'. Physical path: '"/app/wwwroot/dist/js/bundle.min.js"'
[2020-01-24T10:54:56.6311077+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 76.8746ms 200 application/javascript
[2020-01-24T10:54:56.6371401+00:00][INFO][10][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/bundle.min.css"'. Physical path: '"/app/wwwroot/dist/css/bundle.min.css"'
[2020-01-24T10:54:56.6377722+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 128.1518ms 200 text/css
[2020-01-24T10:54:56.8338752+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/dist/fonts/open-iconic.woff  
[2020-01-24T10:54:56.8443458+00:00][INFO][12][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/open-iconic.woff"'. Physical path: '"/app/wwwroot/dist/fonts/open-iconic.woff"'
[2020-01-24T10:54:56.8474060+00:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 14.039ms 200 application/font-woff
[2020-01-24T10:54:57.0059862+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/favicon.ico  
[2020-01-24T10:54:57.0229562+00:00][INFO][12][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/favicon.ico"'. Physical path: '"/app/wwwroot/favicon.ico"'
[2020-01-24T10:54:57.0280437+00:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 22.1457ms 200 image/x-icon
[2020-01-24T10:55:05.5636758+00:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/Account/Login  
[2020-01-24T10:55:05.6015048+00:00][INFO][12][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T10:55:05.6678762+00:00][INFO][12][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T10:55:05.7169801+00:00][INFO][12][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-01-24T10:55:05.7934546+00:00][INFO][12][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 77.4211ms.
[2020-01-24T10:55:05.7948291+00:00][INFO][12][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)" in 125.4198ms
[2020-01-24T10:55:05.7975931+00:00][INFO][12][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T10:55:05.7999391+00:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 235.9434ms 200 text/html; charset=utf-8
[2020-01-24T10:55:06.1493992+00:00][INFO][16][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/dist/fonts/fontawesome-webfont.woff2?v=4.7.0  
[2020-01-24T10:55:06.2102557+00:00][INFO][17][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/fontawesome-webfont.woff2"'. Physical path: '"/app/wwwroot/dist/fonts/fontawesome-webfont.woff2"'
[2020-01-24T10:55:06.2132890+00:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 63.721ms 200 font/woff2
[2020-01-24T10:55:11.8031463+00:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:32775/Account/Login application/x-www-form-urlencoded 256
[2020-01-24T10:55:11.8097852+00:00][DBUG][17][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Account/Login" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2020-01-24T10:55:11.8129248+00:00][INFO][17][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-01-24T10:55:11.8345286+00:00][INFO][17][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T10:55:11.8534190+00:00][INFO][17][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ITLab.Identity.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T10:55:18.0270568+00:00][INFO][17][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"DataBaseContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.SqlServer "
[2020-01-24T10:55:18.5654352+00:00][EROR][17][Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type '"BackEnd.DataBase.DataBaseContext"'."
""System.ArgumentException: Keyword not supported: 'port'.
   at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
   at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
   at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
   at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
   at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
   at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()"
System.ArgumentException: Keyword not supported: 'port'.
   at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
   at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
   at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
   at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
   at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
   at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2020-01-24T10:55:18.6715879+00:00][INFO][17][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)" in 6817.7519ms
[2020-01-24T10:55:18.6734940+00:00][INFO][17][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T10:55:18.6761027+00:00][EROR][17][Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
System.ArgumentException: Keyword not supported: 'port'.
   at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
   at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
   at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
   at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
   at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
   at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at ITLab.Identity.STS.Identity.Helpers.UserResolver`1.GetUserAsync(String login) in C:\Projects\ITLab.Identity\src\ITLab.Identity.STS.Identity\Helpers\UserResolver.cs:line 23
   at ITLab.Identity.STS.Identity.Controllers.AccountController`2.Login(LoginInputModel model, String button) in C:\Projects\ITLab.Identity\src\ITLab.Identity.STS.Identity\Controllers\AccountController.cs:line 132
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at NWebsec.AspNetCore.Middleware.Middleware.MiddlewareBase.Invoke(HttpContext context)
   at NWebsec.AspNetCore.Middleware.Middleware.MiddlewareBase.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
[2020-01-24T10:55:18.7805596+00:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 6977.5345ms 500 text/html; charset=utf-8
[2020-01-24T10:58:45.6738364+00:00][INFO][21][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/Account/Login  
[2020-01-24T10:58:45.6802975+00:00][INFO][21][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T10:58:45.6831497+00:00][INFO][21][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T10:58:45.6986509+00:00][INFO][21][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-01-24T10:58:45.7056302+00:00][INFO][21][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 7.3878ms.
[2020-01-24T10:58:45.7069426+00:00][INFO][21][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)" in 22.9043ms
[2020-01-24T10:58:45.7093085+00:00][INFO][21][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T10:58:45.7128506+00:00][INFO][21][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 38.7017ms 200 text/html; charset=utf-8
[2020-01-24T10:58:50.1541389+00:00][INFO][20][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:32775/Account/Login application/x-www-form-urlencoded 271
[2020-01-24T10:58:50.1546261+00:00][DBUG][20][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Account/Login" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2020-01-24T10:58:50.1547695+00:00][INFO][20][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-01-24T10:58:50.1559707+00:00][INFO][20][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T10:58:50.1567412+00:00][INFO][20][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ITLab.Identity.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T10:58:52.3145601+00:00][INFO][20][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"DataBaseContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.SqlServer "
[2020-01-24T10:58:52.3270314+00:00][EROR][20][Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type '"BackEnd.DataBase.DataBaseContext"'."
""System.ArgumentException: Keyword not supported: 'port'.
   at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
   at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
   at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
   at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
   at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
   at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()"
System.ArgumentException: Keyword not supported: 'port'.
   at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
   at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
   at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
   at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
   at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
   at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2020-01-24T10:58:52.4117615+00:00][INFO][20][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)" in 2254.4222ms
[2020-01-24T10:58:52.4122495+00:00][INFO][20][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T10:58:52.4143123+00:00][EROR][20][Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
System.ArgumentException: Keyword not supported: 'port'.
   at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
   at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
   at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
   at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
   at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
   at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at ITLab.Identity.STS.Identity.Helpers.UserResolver`1.GetUserAsync(String login) in C:\Projects\ITLab.Identity\src\ITLab.Identity.STS.Identity\Helpers\UserResolver.cs:line 23
   at ITLab.Identity.STS.Identity.Controllers.AccountController`2.Login(LoginInputModel model, String button) in C:\Projects\ITLab.Identity\src\ITLab.Identity.STS.Identity\Controllers\AccountController.cs:line 132
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next[2020-01-24T11:00:46.7529195+00:00][WARN][1][Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] Storing keys in a directory '"/root/.aspnet/DataProtection-Keys"' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
[2020-01-24T11:00:46.8228884+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using '"/root/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
[2020-01-24T11:00:46.9536333+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "3.1.0.0"
[2020-01-24T11:00:46.9750089+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2020-01-24T11:00:46.9750859+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for authentication
[2020-01-24T11:00:46.9757609+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-in
[2020-01-24T11:00:46.9762449+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-out
[2020-01-24T11:00:46.9766572+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for challenge
[2020-01-24T11:00:46.9770984+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for forbid
[2020-01-24T11:00:47.3636305+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:80"
[2020-01-24T11:00:47.3649616+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2020-01-24T11:00:47.3652349+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2020-01-24T11:00:47.3654071+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2020-01-24T11:00:53.7516047+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/Account/Login  
[2020-01-24T11:00:53.7746378+00:00][DBUG][5][IdentityServer4.Startup] Login Url: "/Account/Login"
[2020-01-24T11:00:53.7748784+00:00][DBUG][5][IdentityServer4.Startup] Login Return Url Parameter: "ReturnUrl"
[2020-01-24T11:00:53.7749609+00:00][DBUG][5][IdentityServer4.Startup] Logout Url: "/Account/Logout"
[2020-01-24T11:00:53.7750827+00:00][DBUG][5][IdentityServer4.Startup] ConsentUrl Url: "/consent"
[2020-01-24T11:00:53.7751104+00:00][DBUG][5][IdentityServer4.Startup] Consent Return Url Parameter: "returnUrl"
[2020-01-24T11:00:53.7751410+00:00][DBUG][5][IdentityServer4.Startup] Error Url: "/home/error"
[2020-01-24T11:00:53.7751913+00:00][DBUG][5][IdentityServer4.Startup] Error Id Parameter: "errorId"
[2020-01-24T11:00:53.8413184+00:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:00:53.8791873+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:00:53.9574788+00:00][INFO][5][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-01-24T11:00:54.2577106+00:00][INFO][5][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 300.3155ms.
[2020-01-24T11:00:54.2599159+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)" in 379.867ms
[2020-01-24T11:00:54.2611876+00:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:00:54.2663533+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 517.427ms 200 text/html; charset=utf-8
[2020-01-24T11:00:54.5069352+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/favicon.ico  
[2020-01-24T11:00:54.5301089+00:00][INFO][5][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/favicon.ico"'. Physical path: '"/app/wwwroot/favicon.ico"'
[2020-01-24T11:00:54.5321465+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 25.1648ms 200 image/x-icon
[2020-01-24T11:00:58.8004268+00:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:32775/Account/Login application/x-www-form-urlencoded 312
[2020-01-24T11:00:58.8116299+00:00][DBUG][14][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Account/Login" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2020-01-24T11:00:58.8161886+00:00][INFO][14][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-01-24T11:00:58.8261190+00:00][INFO][14][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:00:58.8359084+00:00][INFO][14][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ITLab.Identity.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:00:58.8839526+00:00][INFO][14][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"DataBaseContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:00:59.6575362+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2020-01-24T11:00:59.6966213+00:00][INFO][5][IdentityServer4.Events.DefaultEventService] UserLoginFailureEvent { Username: "", Endpoint: "UI", ClientId: null, Category: "Authentication", Name: "User Login Failure", EventType: Failure, Id: 1001, Message: "invalid credentials", ActivityId: "0HLT0NIN70NBE:00000003", TimeStamp: 01/24/2020 11:00:59, ProcessId: 307, LocalIpAddress: "::ffff:172.19.0.4:80", RemoteIpAddress: "::ffff:172.19.0.1" }
[2020-01-24T11:00:59.7048923+00:00][INFO][5][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-01-24T11:00:59.7186016+00:00][INFO][5][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 13.5902ms.
[2020-01-24T11:00:59.7208707+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)" in 884.6307ms
[2020-01-24T11:00:59.7231901+00:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:00:59.7294833+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 929.2505ms 200 text/html; charset=utf-8
[2020-01-24T11:01:18.0810411+00:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:32775/Account/Login application/x-www-form-urlencoded 263
[2020-01-24T11:01:18.0838536+00:00][DBUG][14][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Account/Login" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2020-01-24T11:01:18.0856550+00:00][INFO][14][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-01-24T11:01:18.0946020+00:00][INFO][14][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:01:18.0978949+00:00][INFO][14][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ITLab.Identity.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:01:18.1154606+00:00][INFO][14][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"DataBaseContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:01:18.1289779+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2020-01-24T11:01:18.2423607+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2020-01-24T11:01:18.3352185+00:00][WARN][6][Microsoft.AspNetCore.Identity.UserManager] Invalid password for user "39942c7b-51f1-400e-a9ab-dcc165f9de04".
[2020-01-24T11:01:18.3357905+00:00][WARN][6][Microsoft.AspNetCore.Identity.SignInManager] User "39942c7b-51f1-400e-a9ab-dcc165f9de04" failed to provide the correct password.
[2020-01-24T11:01:18.3565320+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2020-01-24T11:01:18.3850047+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedEmail\" = @__normalizedEmail_0
LIMIT 2"
[2020-01-24T11:01:18.5149490+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@p17='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?', @p13='?' (DbType = Boolean), @p14='?', @p15='?' (DbType = Boolean), @p16='?'"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"AspNetUsers\" SET \"AccessFailedCount\" = @p0, \"ConcurrencyStamp\" = @p1, \"Email\" = @p2, \"EmailConfirmed\" = @p3, \"FirstName\" = @p4, \"LastName\" = @p5, \"LockoutEnabled\" = @p6, \"LockoutEnd\" = @p7, \"MiddleName\" = @p8, \"NormalizedEmail\" = @p9, \"NormalizedUserName\" = @p10, \"PasswordHash\" = @p11, \"PhoneNumber\" = @p12, \"PhoneNumberConfirmed\" = @p13, \"SecurityStamp\" = @p14, \"TwoFactorEnabled\" = @p15, \"UserName\" = @p16
WHERE \"Id\" = @p17 AND \"ConcurrencyStamp\" = @p18;"
[2020-01-24T11:01:18.5882398+00:00][INFO][15][IdentityServer4.Events.DefaultEventService] UserLoginFailureEvent { Username: "admin", Endpoint: "UI", ClientId: null, Category: "Authentication", Name: "User Login Failure", EventType: Failure, Id: 1001, Message: "invalid credentials", ActivityId: "0HLT0NIN70NBE:00000004", TimeStamp: 01/24/2020 11:01:18, ProcessId: 307, LocalIpAddress: "::ffff:172.19.0.4:80", RemoteIpAddress: "::ffff:172.19.0.1" }
[2020-01-24T11:01:18.5892973+00:00][INFO][15][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-01-24T11:01:18.5968546+00:00][INFO][15][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 7.8057ms.
[2020-01-24T11:01:18.5974072+00:00][INFO][15][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)" in 498.6813ms
[2020-01-24T11:01:18.5976990+00:00][INFO][15][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:01:18.5986920+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 517.959ms 200 text/html; charset=utf-8
[2020-01-24T11:01:41.7889275+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:32775/Account/Login application/x-www-form-urlencoded 282
[2020-01-24T11:01:41.7903501+00:00][DBUG][6][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Account/Login" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2020-01-24T11:01:41.7907634+00:00][INFO][6][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-01-24T11:01:41.7924688+00:00][INFO][6][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:01:41.7962397+00:00][INFO][6][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ITLab.Identity.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:01:41.8022663+00:00][INFO][6][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"DataBaseContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:01:41.9103320+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("34"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2020-01-24T11:01:41.9471462+00:00][INFO][16][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2020-01-24T11:01:41.9638397+00:00][WARN][16][Microsoft.AspNetCore.Identity.UserManager] Invalid password for user "39942c7b-51f1-400e-a9ab-dcc165f9de04".
[2020-01-24T11:01:41.9641152+00:00][WARN][16][Microsoft.AspNetCore.Identity.SignInManager] User "39942c7b-51f1-400e-a9ab-dcc165f9de04" failed to provide the correct password.
[2020-01-24T11:01:42.0138577+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2020-01-24T11:01:42.0586354+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedEmail\" = @__normalizedEmail_0
LIMIT 2"
[2020-01-24T11:01:42.0685744+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@p17='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?', @p13='?' (DbType = Boolean), @p14='?', @p15='?' (DbType = Boolean), @p16='?'"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"AspNetUsers\" SET \"AccessFailedCount\" = @p0, \"ConcurrencyStamp\" = @p1, \"Email\" = @p2, \"EmailConfirmed\" = @p3, \"FirstName\" = @p4, \"LastName\" = @p5, \"LockoutEnabled\" = @p6, \"LockoutEnd\" = @p7, \"MiddleName\" = @p8, \"NormalizedEmail\" = @p9, \"NormalizedUserName\" = @p10, \"PasswordHash\" = @p11, \"PhoneNumber\" = @p12, \"PhoneNumberConfirmed\" = @p13, \"SecurityStamp\" = @p14, \"TwoFactorEnabled\" = @p15, \"UserName\" = @p16
WHERE \"Id\" = @p17 AND \"ConcurrencyStamp\" = @p18;"
[2020-01-24T11:01:42.1095220+00:00][INFO][6][IdentityServer4.Events.DefaultEventService] UserLoginFailureEvent { Username: "admin", Endpoint: "UI", ClientId: null, Category: "Authentication", Name: "User Login Failure", EventType: Failure, Id: 1001, Message: "invalid credentials", ActivityId: "0HLT0NIN70NBE:00000005", TimeStamp: 01/24/2020 11:01:42, ProcessId: 307, LocalIpAddress: "::ffff:172.19.0.4:80", RemoteIpAddress: "::ffff:172.19.0.1" }
[2020-01-24T11:01:42.1155658+00:00][INFO][6][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-01-24T11:01:42.1371335+00:00][INFO][6][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 21.8319ms.
[2020-01-24T11:01:42.1388068+00:00][INFO][6][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)" in 342.0764ms
[2020-01-24T11:01:42.1400754+00:00][INFO][6][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:01:42.1439776+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 354.7705ms 200 text/html; charset=utf-8
[2020-01-24T11:01:48.2161432+00:00][INFO][16][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:32775/Account/Login application/x-www-form-urlencoded 282
[2020-01-24T11:01:48.2170960+00:00][DBUG][16][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Account/Login" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2020-01-24T11:01:48.2192580+00:00][INFO][16][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-01-24T11:01:48.2225941+00:00][INFO][16][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:01:48.2241475+00:00][INFO][16][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ITLab.Identity.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:01:59.7124507+00:00][INFO][16][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"DataBaseContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:01:59.7189029+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2020-01-24T11:02:13.2282674+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2020-01-24T11:02:13.2636528+00:00][WARN][14][Microsoft.AspNetCore.Identity.UserManager] Invalid password for user "39942c7b-51f1-400e-a9ab-dcc165f9de04".
[2020-01-24T11:02:13.2639567+00:00][WARN][14][Microsoft.AspNetCore.Identity.SignInManager] User "39942c7b-51f1-400e-a9ab-dcc165f9de04" failed to provide the correct password.
[2020-01-24T11:02:13.2715216+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2020-01-24T11:02:13.2758257+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedEmail\" = @__normalizedEmail_0
LIMIT 2"
[2020-01-24T11:02:13.2842840+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@p17='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?', @p13='?' (DbType = Boolean), @p14='?', @p15='?' (DbType = Boolean), @p16='?'"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"AspNetUsers\" SET \"AccessFailedCount\" = @p0, \"ConcurrencyStamp\" = @p1, \"Email\" = @p2, \"EmailConfirmed\" = @p3, \"FirstName\" = @p4, \"LastName\" = @p5, \"LockoutEnabled\" = @p6, \"LockoutEnd\" = @p7, \"MiddleName\" = @p8, \"NormalizedEmail\" = @p9, \"NormalizedUserName\" = @p10, \"PasswordHash\" = @p11, \"PhoneNumber\" = @p12, \"PhoneNumberConfirmed\" = @p13, \"SecurityStamp\" = @p14, \"TwoFactorEnabled\" = @p15, \"UserName\" = @p16
WHERE \"Id\" = @p17 AND \"ConcurrencyStamp\" = @p18;"
[2020-01-24T11:02:27.0934251+00:00][INFO][14][IdentityServer4.Events.DefaultEventService] UserLoginFailureEvent { Username: "admin", Endpoint: "UI", ClientId: null, Category: "Authentication", Name: "User Login Failure", [2020-01-24T11:11:20.8447845+00:00][WARN][1][Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] Storing keys in a directory '"/root/.aspnet/DataProtection-Keys"' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
[2020-01-24T11:11:20.9025307+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using '"/root/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
[2020-01-24T11:11:21.0131287+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "3.1.0.0"
[2020-01-24T11:11:21.0321613+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2020-01-24T11:11:21.0323391+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for authentication
[2020-01-24T11:11:21.0324887+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-in
[2020-01-24T11:11:21.0331977+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-out
[2020-01-24T11:11:21.0334094+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for challenge
[2020-01-24T11:11:21.0337197+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for forbid
[2020-01-24T11:11:21.2839630+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:80"
[2020-01-24T11:11:21.2845359+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2020-01-24T11:11:21.2846405+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2020-01-24T11:11:21.2848589+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2020-01-24T11:11:44.5332395+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/  
[2020-01-24T11:11:44.5584977+00:00][DBUG][4][IdentityServer4.Startup] Login Url: "/Account/Login"
[2020-01-24T11:11:44.5586126+00:00][DBUG][4][IdentityServer4.Startup] Login Return Url Parameter: "ReturnUrl"
[2020-01-24T11:11:44.5586395+00:00][DBUG][4][IdentityServer4.Startup] Logout Url: "/Account/Logout"
[2020-01-24T11:11:44.5587580+00:00][DBUG][4][IdentityServer4.Startup] ConsentUrl Url: "/consent"
[2020-01-24T11:11:44.5588010+00:00][DBUG][4][IdentityServer4.Startup] Consent Return Url Parameter: "returnUrl"
[2020-01-24T11:11:44.5588350+00:00][DBUG][4][IdentityServer4.Startup] Error Url: "/home/error"
[2020-01-24T11:11:44.5588581+00:00][DBUG][4][IdentityServer4.Startup] Error Id Parameter: "errorId"
[2020-01-24T11:11:44.6214047+00:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:11:44.6423771+00:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:11:44.6801299+00:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T11:11:44.9218100+00:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 244.5928ms.
[2020-01-24T11:11:44.9244639+00:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 280.6963ms
[2020-01-24T11:11:44.9262677+00:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController[2020-01-24T11:12:35.6685363+00:00][WARN][1][Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] Storing keys in a directory '"/root/.aspnet/DataProtection-Keys"' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
[2020-01-24T11:12:35.7322160+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using '"/root/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
[2020-01-24T11:12:35.8482454+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "3.1.0.0"
[2020-01-24T11:12:35.8656397+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2020-01-24T11:12:35.8658065+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for authentication
[2020-01-24T11:12:35.8659069+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-in
[2020-01-24T11:12:35.8665055+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-out
[2020-01-24T11:12:35.8666944+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for challenge
[2020-01-24T11:12:35.8668946+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for forbid
[2020-01-24T11:12:36.0965271+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:80"
[2020-01-24T11:12:36.1295273+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2020-01-24T11:12:36.1302626+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2020-01-24T11:12:36.1310700+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2020-01-24T11:12:42.9702382+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/  
[2020-01-24T11:12:42.9928837+00:00][DBUG][6][IdentityServer4.Startup] Login Url: "/Account/Login"
[2020-01-24T11:12:42.9930248+00:00][DBUG][6][IdentityServer4.Startup] Login Return Url Parameter: "ReturnUrl"
[2020-01-24T11:12:42.9931229+00:00][DBUG][6][IdentityServer4.Startup] Logout Url: "/Account/Logout"
[2020-01-24T11:12:42.9931911+00:00][DBUG][6][IdentityServer4.Startup] ConsentUrl Url: "/consent"
[2020-01-24T11:12:42.9932150+00:00][DBUG][6][IdentityServer4.Startup] Consent Return Url Parameter: "returnUrl"
[2020-01-24T11:12:42.9932377+00:00][DBUG][6][IdentityServer4.Startup] Error Url: "/home/error"
[2020-01-24T11:12:42.9932596+00:00][DBUG][6][IdentityServer4.Startup] Error Id Parameter: "errorId"
[2020-01-24T11:12:43.0494911+00:00][INFO][6][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:12:43.0702742+00:00][INFO][6][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:12:43.1025898+00:00][INFO][6][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T11:12:43.4002144+00:00][INFO][6][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 299.9797ms.
[2020-01-24T11:12:43.4030338+00:00][INFO][6][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 331.6029ms
[2020-01-24T11:12:43.4051289+00:00][INFO][6][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:12:43.4098560+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 442.614ms 200 text/html; charset=utf-8
[2020-01-24T11:12:46.9167022+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/Account/Login  
[2020-01-24T11:12:46.9274934+00:00][INFO][6][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:12:46.9507955+00:00][INFO][6][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:12:46.9799393+00:00][INFO][6][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-01-24T11:12:47.0345789+00:00][INFO][6][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 55.4368ms.
[2020-01-24T11:12:47.0356886+00:00][INFO][6][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)" in 82.8551ms
[2020-01-24T11:12:47.0364573+00:00][INFO][6][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:12:47.0382167+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 121.5741ms 200 text/html; charset=utf-8
[2020-01-24T11:12:54.7224501+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:32775/Account/Login application/x-www-form-urlencoded 282
[2020-01-24T11:12:54.7296544+00:00][DBUG][15][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Account/Login" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2020-01-24T11:12:54.7352296+00:00][INFO][15][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-01-24T11:12:54.7476611+00:00][INFO][15][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:12:54.7578320+00:00][INFO][15][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ITLab.Identity.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:12:54.8016295+00:00][INFO][15][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"DataBaseContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:12:55.5440980+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("34"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\[2020-01-24T11:15:13.9709940+00:00][WARN][1][Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] Storing keys in a directory '"/root/.aspnet/DataProtection-Keys"' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
[2020-01-24T11:15:14.0311392+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using '"/root/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
[2020-01-24T11:15:14.1679109+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "3.1.0.0"
[2020-01-24T11:15:14.1887586+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2020-01-24T11:15:14.1888278+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for authentication
[2020-01-24T11:15:14.1891981+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-in
[2020-01-24T11:15:14.1897130+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-out
[2020-01-24T11:15:14.1900176+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for challenge
[2020-01-24T11:15:14.1903706+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for forbid
[2020-01-24T11:15:14.4307671+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:80"
[2020-01-24T11:15:14.4319140+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2020-01-24T11:15:14.4325656+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2020-01-24T11:15:14.4345605+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2020-01-24T11:15:36.4060348+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:32775/Account/Login application/x-www-form-urlencoded 286
[2020-01-24T11:15:36.4245839+00:00][DBUG][6][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Account/Login" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2020-01-24T11:15:36.4280070+00:00][INFO][6][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-01-24T11:15:36.4435685+00:00][DBUG][6][IdentityServer4.Startup] Login Url: "/Account/Login"
[2020-01-24T11:15:36.4436726+00:00][DBUG][6][IdentityServer4.Startup] Login Return Url Parameter: "ReturnUrl"
[2020-01-24T11:15:36.4436997+00:00][DBUG][6][IdentityServer4.Startup] Logout Url: "/Account/Logout"
[2020-01-24T11:15:36.4437220+00:00][DBUG][6][IdentityServer4.Startup] ConsentUrl Url: "/consent"
[2020-01-24T11:15:36.4437447+00:00][DBUG][6][IdentityServer4.Startup] Consent Return Url Parameter: "returnUrl"
[2020-01-24T11:15:36.4438735+00:00][DBUG][6][IdentityServer4.Startup] Error Url: "/home/error"
[2020-01-24T11:15:36.4439295+00:00][DBUG][6][IdentityServer4.Startup] Error Id Parameter: "errorId"
[2020-01-24T11:15:36.5158691+00:00][INFO][6][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:15:36.5969792+00:00][INFO][6][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ITLab.Identity.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:15:36.6627079+00:00][INFO][6][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"DataBaseContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:15:37.3104958+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2020-01-24T11:15:37.4505785+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("46"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2020-01-24T11:15:37.5759640+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"ClaimType\", a.\"ClaimValue\", a.\"UserId\"
FROM \"AspNetUserClaims\" AS a
WHERE a.\"UserId\" = @__user_Id_0"
[2020-01-24T11:15:37.6310572+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a0.\"Name\"
FROM \"AspNetUserRoles\" AS a
INNER JOIN \"AspNetRoles\" AS a0 ON a.\"RoleId\" = a0.\"Id\"
WHERE a.\"UserId\" = @__userId_0"
[2020-01-24T11:15:37.6454684+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__normalizedName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"ConcurrencyStamp\", a.\"Name\", a.\"NormalizedName\"
FROM \"AspNetRoles\" AS a
WHERE a.\"NormalizedName\" = @__normalizedName_0
LIMIT 1"
[2020-01-24T11:15:37.7150538+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"ClaimType\", a.\"ClaimValue\"
FROM \"AspNetRoleClaims\" AS a
WHERE a.\"RoleId\" = @__role_Id_0"
[2020-01-24T11:15:37.7283667+00:00][DBUG][6][IdentityServer4.Hosting.IdentityServerAuthenticationService] Augmenting SignInContext
[2020-01-24T11:15:37.7294883+00:00][DBUG][6][IdentityServer4.Hosting.IdentityServerAuthenticationService] Adding idp claim with value: "local"
[2020-01-24T11:15:37.7298099+00:00][DBUG][6][IdentityServer4.Hosting.IdentityServerAuthenticationService] Adding auth_time claim with value: "1579864537"
[2020-01-24T11:15:37.8234879+00:00][INFO][6][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2020-01-24T11:15:37.8437372+00:00][INFO][6][IdentityServer4.Events.DefaultEventService] UserLoginSuccessEvent { Username: "admin", Provider: null, ProviderUserId: null, SubjectId: "5b39088d-4ed0-41cf-bfe7-a7ef9d110920", DisplayName: "admin", Endpoint: "UI", ClientId: null, Category: "Authentication", Name: "User Login Success", EventType: Success, Id: 1000, Message: null, ActivityId: "0HLT0NQU8J4K8:00000001", TimeStamp: 01/24/2020 11:15:37, ProcessId: 954, LocalIpAddress: "::ffff:172.19.0.4:80", RemoteIpAddress: "::ffff:172.19.0.1" }
[2020-01-24T11:15:37.8543[2020-01-24T11:22:24.1144657+00:00][WARN][1][Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] Storing keys in a directory '"/root/.aspnet/DataProtection-Keys"' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
[2020-01-24T11:22:24.1917546+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using '"/root/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
[2020-01-24T11:22:24.4319783+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "3.1.0.0"
[2020-01-24T11:22:24.4730527+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2020-01-24T11:22:24.4732753+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for authentication
[2020-01-24T11:22:24.4740473+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-in
[2020-01-24T11:22:24.4752937+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-out
[2020-01-24T11:22:24.4766632+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for challenge
[2020-01-24T11:22:24.4784942+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for forbid
[2020-01-24T11:22:24.7814003+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:80"
[2020-01-24T11:22:24.7825931+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2020-01-24T11:22:24.7828962+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2020-01-24T11:22:24.7831614+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2020-01-24T11:23:40.8541952+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/  
[2020-01-24T11:23:40.8776353+00:00][DBUG][10][IdentityServer4.Startup] Login Url: "/Account/Login"
[2020-01-24T11:23:40.8777342+00:00][DBUG][10][IdentityServer4.Startup] Login Return Url Parameter: "ReturnUrl"
[2020-01-24T11:23:40.8777578+00:00][DBUG][10][IdentityServer4.Startup] Logout Url: "/Account/Logout"
[2020-01-24T11:23:40.8778428+00:00][DBUG][10][IdentityServer4.Startup] ConsentUrl Url: "/consent"
[2020-01-24T11:23:40.8778792+00:00][DBUG][10][IdentityServer4.Startup] Consent Return Url Parameter: "returnUrl"
[2020-01-24T11:23:40.8779001+00:00][DBUG][10][IdentityServer4.Startup] Error Url: "/home/error"
[2020-01-24T11:23:40.8779240+00:00][DBUG][10][IdentityServer4.Startup] Error Id Parameter: "errorId"
[2020-01-24T11:23:40.9590871+00:00][INFO][10][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:23:40.9796274+00:00][INFO][10][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:23:41.0097655+00:00][INFO][10][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T11:23:41.2070384+00:00][INFO][10][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:23:41.3072528+00:00][INFO][10][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 296.4266ms.
[2020-01-24T11:23:41.3091920+00:00][INFO][10][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 328.3389ms
[2020-01-24T11:23:41.3096579+00:00][INFO][10][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:23:41.3163290+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 465.6704ms 200 text/html; charset=utf-8
[2020-01-24T11:23:41.8588771+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/favicon.ico  
[2020-01-24T11:23:41.8751020+00:00][INFO][13][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/favicon.ico"'. Physical path: '"/app/wwwroot/favicon.ico"'
[2020-01-24T11:23:41.8758608+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 16.9782ms 200 image/x-icon
[2020-01-24T11:23:49.5814941+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/Manage  
[2020-01-24T11:23:49.6078935+00:00][INFO][13][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:23:49.6104468+00:00][INFO][13][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.ManageController<Models.People.User, System.Guid>.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:23:49.6246728+00:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Manage\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "ITLab.Identity.STS.Identity.Controllers.ManageController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:23:49.6372817+00:00][INFO][13][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"DataBaseContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:23:50.4513314+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("14"ms) [Parameters=["@__p_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"Id\" = @__p_0
LIMIT 1"
[2020-01-24T11:23:50.6113837+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"ClaimType\", a.\"ClaimValue\", a.\"UserId\"
FROM \"AspNetUserClaims\" AS a
WHERE a.\"UserId\" = @__user_Id_0"
[2020-01-24T11:23:50.6795536+00:00][INFO][12][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T11:23:50.7569337+00:00][INFO][12][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:23:50.7638579+00:00][INFO][12][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 85.7506ms.
[2020-01-24T11:23:50.7664983+00:00][INFO][12][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.ManageController<Models.People.User, System.Guid>.Index (ITLab.Identity.STS.Identity)" in 1141.1227ms
[2020-01-24T11:23:50.7683700+00:00][INFO][12][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.ManageController<Models.People.User, System.Guid>.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:23:50.7763253+00:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 1195.8611ms 200 text/html; charset=utf-8
[2020-01-24T11:23:54.4448448+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/  
[2020-01-24T11:23:54.4702701+00:00][INFO][13][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:23:54.4721419+00:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:23:54.4757985+00:00][INFO][13][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T11:23:54.4808348+00:00][INFO][13][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:23:54.4864602+00:00][INFO][13][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 10.9959ms.
[2020-01-24T11:23:54.4872215+00:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 14.1229ms
[2020-01-24T11:23:54.4877145+00:00][INFO][13][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:23:54.4889831+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 44.0192ms 200 text/html; charset=utf-8
[2020-01-24T11:23:55.7631936+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/Grants  
[2020-01-24T11:23:55.7748258+00:00][INFO][13][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:23:55.7752811+00:00][INFO][13][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.GrantsController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:23:55.7804490+00:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Grants\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "ITLab.Identity.STS.Identity.Controllers.GrantsController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:23:55.7974855+00:00][INFO][13][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:23:55.9467780+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("69"ms) [Parameters=["@__subjectId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT p.\"Key\", p.\"ClientId\", p.\"CreationTime\", p.\"Data\", p.\"Expiration\", p.\"SubjectId\", p.\"Type\"
FROM \"PersistedGrants\" AS p
WHERE p.\"SubjectId\" = @__subjectId_0"
[2020-01-24T11:23:55.9761791+00:00][DBUG][10][IdentityServer4.EntityFramework.Stores.PersistedGrantStore] 0 persisted grants found for "5b39088d-4ed0-41cf-bfe7-a7ef9d110920"
[2020-01-24T11:23:56.1280779+00:00][INFO][10][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T11:23:56.1419130+00:00][INFO][10][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:23:56.1464126+00:00][INFO][10][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 19.8132ms.
[2020-01-24T11:23:56.1473509+00:00][INFO][10][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.GrantsController.Index (ITLab.Identity.STS.Identity)" in 366.6322ms
[2020-01-24T11:23:56.1483865+00:00][INFO][10][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.GrantsController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:23:56.1519217+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 389.0531ms 200 text/html; charset=utf-8
[2020-01-24T11:23:58.4142131+00:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/  
[2020-01-24T11:23:58.4174127+00:00][INFO][14][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:23:58.4184300+00:00][INFO][14][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:23:58.4227105+00:00][INFO][14][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T11:23:58.4258235+00:00][INFO][14][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:23:58.4294553+00:00][INFO][14][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 7.0168ms.
[2020-01-24T11:23:58.4302334+00:00][INFO][14][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 9.367ms
[2020-01-24T11:23:58.4308782+00:00][INFO][14][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:23:58.4326452+00:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 18.0614ms 200 text/html; charset=utf-8
[2020-01-24T11:23:59.4435652+00:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/Manage/PersonalData  
[2020-01-24T11:23:59.4489414+00:00][INFO][17][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:23:59.4494021+00:00][INFO][17][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.ManageController<Models.People.User, System.Guid>.PersonalData (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:23:59.4576356+00:00][INFO][17][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"PersonalData\", controller = \"Manage\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PersonalData()" on controller "ITLab.Identity.STS.Identity.Controllers.ManageController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:23:59.4621208+00:00][INFO][17][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"DataBaseContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:23:59.4739629+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__p_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"Id\" = @__p_0
LIMIT 1"
[2020-01-24T11:23:59.4795799+00:00][INFO][17][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "PersonalData".
[2020-01-24T11:23:59.4931840+00:00][INFO][17][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:23:59.4963500+00:00][INFO][17][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "PersonalData" executed in 18.4972ms.
[2020-01-24T11:23:59.4966485+00:00][INFO][17][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.ManageController<Models.People.User, System.Guid>.PersonalData (ITLab.Identity.STS.Identity)" in 38.3098ms
[2020-01-24T11:23:59.4968915+00:00][INFO][17][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.ManageController<Models.People.User, System.Guid>.PersonalData (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:23:59.5001042+00:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 56.4507ms 200 text/html; charset=utf-8
[2020-01-24T11:24:01.3495198+00:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:32775/Manage/DownloadPersonalData application/x-www-form-urlencoded 225
[2020-01-24T11:24:01.3550751+00:00][DBUG][17][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Manage/DownloadPersonalData" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2020-01-24T11:24:01.3563224+00:00][INFO][17][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-01-24T11:24:01.3696680+00:00][INFO][17][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:24:01.3698931+00:00][INFO][17][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.ManageController<Models.People.User, System.Guid>.DownloadPersonalData (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:24:01.3790190+00:00][INFO][17][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"DownloadPersonalData\", controller = \"Manage\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadPersonalData()" on controller "ITLab.Identity.STS.Identity.Controllers.ManageController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:24:01.3913135+00:00][INFO][17][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"DataBaseContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:24:01.3998571+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"Id\" = @__p_0
LIMIT 1"
[2020-01-24T11:24:01.4018258+00:00][INFO][17][ITLab.Identity.STS.Identity.Controllers.ManageController] User with ID '"5b39088d-4ed0-41cf-bfe7-a7ef9d110920"' asked for their personal data.
[2020-01-24T11:24:01.4359115+00:00][INFO][17][Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing "Microsoft.AspNetCore.Mvc.FileContentResult", sending file with download name '""' ...
[2020-01-24T11:24:01.4408209+00:00][INFO][17][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.ManageController<Models.People.User, System.Guid>.DownloadPersonalData (ITLab.Identity.STS.Identity)" in 60.9396ms
[2020-01-24T11:24:01.4414192+00:00][INFO][17][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.ManageController<Models.People.User, System.Guid>.DownloadPersonalData (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:24:01.4420870+00:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 92.7282ms 200 text/json
[2020-01-24T11:24:08.9072126+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/  
[2020-01-24T11:24:08.9114071+00:00][INFO][13][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:24:08.9138912+00:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:24:08.9252611+00:00][INFO][13][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T11:24:08.9292306+00:00][INFO][13][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:24:08.9357299+00:00][INFO][13][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 19.7714ms.
[2020-01-24T11:24:08.9361923+00:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 21.7125ms
[2020-01-24T11:24:08.9365661+00:00][INFO][13][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:24:08.9372668+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 30.0842ms 200 text/html; charset=utf-8
[2020-01-24T11:24:14.2357066+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/Manage/PersonalData  
[2020-01-24T11:24:14.2416987+00:00][INFO][10][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:24:14.2422304+00:00][INFO][10][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.ManageController<Models.People.User, System.Guid>.PersonalData (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:24:14.2431881+00:00][INFO][10][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"PersonalData\", controller = \"Manage\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PersonalData()" on controller "ITLab.Identity.STS.Identity.Controllers.ManageController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:24:14.2460469+00:00][INFO][10][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"DataBaseContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:24:14.3617666+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("26"ms) [Parameters=["@__p_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"Id\" = @__p_0
LIMIT 1"
[2020-01-24T11:24:14.3639063+00:00][INFO][13][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "PersonalData".
[2020-01-24T11:24:14.3686266+00:00][INFO][13][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:24:14.3735203+00:00][INFO][13][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "PersonalData" executed in 9.8252ms.
[2020-01-24T11:24:14.3742487+00:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.ManageController<Models.People.User, System.Guid>.PersonalData (ITLab.Identity.STS.Identity)" in 130.4619ms
[2020-01-24T11:24:14.3765266+00:00][INFO][13][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.ManageController<Models.People.User, System.Guid>.PersonalData (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:24:14.3778814+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 142.4031ms 200 text/html; charset=utf-8
[2020-01-24T11:24:16.9150010+00:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:32775/Manage/DownloadPersonalData application/x-www-form-urlencoded 225
[2020-01-24T11:24:16.9230940+00:00][DBUG][17][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Manage/DownloadPersonalData" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2020-01-24T11:24:16.9234090+00:00][INFO][17][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-01-24T11:24:16.9317318+00:00][INFO][17][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:24:16.9324938+00:00][INFO][17][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.ManageController<Models.People.User, System.Guid>.DownloadPersonalData (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:24:16.9339568+00:00][INFO][17][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"DownloadPersonalData\", controller = \"Manage\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadPersonalData()" on controller "ITLab.Identity.STS.Identity.Controllers.ManageController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:24:16.9393548+00:00][INFO][17][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"DataBaseContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:24:16.9493418+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"Id\" = @__p_0
LIMIT 1"
[2020-01-24T11:24:16.9558459+00:00][INFO][13][ITLab.Identity.STS.Identity.Controllers.ManageController] User with ID '"5b39088d-4ed0-41cf-bfe7-a7ef9d110920"' asked for their personal data.
[2020-01-24T11:24:16.9617753+00:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing "Microsoft.AspNetCore.Mvc.FileContentResult", sending file with download name '""' ...
[2020-01-24T11:24:16.9665448+00:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.ManageController<Models.People.User, System.Guid>.DownloadPersonalData (ITLab.Identity.STS.Identity)" in 31.7355ms
[2020-01-24T11:24:16.9672061+00:00][INFO][13][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.ManageController<Models.People.User, System.Guid>.DownloadPersonalData (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:24:16.9695528+00:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 54.6433ms 200 text/json
[2020-01-24T11:24:30.4168870+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/  
[2020-01-24T11:24:30.4234985+00:00][INFO][13][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:24:30.4253807+00:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:24:30.4266561+00:00][INFO][13][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T11:24:30.4288111+00:00][INFO][13][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:24:30.4320043+00:00][INFO][13][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 5.4525ms.
[2020-01-24T11:24:30.4329015+00:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 7.2278ms
[2020-01-24T11:24:30.4334771+00:00][INFO][13][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:24:30.4350655+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 18.238ms 200 text/html; charset=utf-8
[2020-01-24T11:24:36.0350384+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/Account/Logout  
[2020-01-24T11:24:36.0432940+00:00][INFO][13][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:24:36.0437864+00:00][INFO][13][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Logout (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:24:36.0634881+00:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Logout\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout(System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:24:36.1044806+00:00][INFO][13][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Logout".
[2020-01-24T11:24:36.1159288+00:00][INFO][13][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:24:36.1191069+00:00][INFO][13][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Logout" executed in 15.3951ms.
[2020-01-24T11:24:36.1195867+00:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Logout (ITLab.Identity.STS.Identity)" in 55.7649ms
[2020-01-24T11:24:36.1201213+00:00][INFO][13][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Logout (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:24:36.1209343+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 85.7618ms 200 text/html; charset=utf-8
[2020-01-24T11:24:39.2176618+00:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:32775/Account/Logout application/x-www-form-urlencoded 235
[2020-01-24T11:24:39.2182562+00:00][DBUG][17][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Account/Logout" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2020-01-24T11:24:39.2202879+00:00][INFO][17][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-01-24T11:24:39.2354902+00:00][INFO][17][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:24:39.2356993+00:00][INFO][17][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Logout (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:24:39.2465125+00:00][INFO][17][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Logout\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout(ITLab.Identity.STS.Identity.ViewModels.Account.LogoutInputModel)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:24:39.2679376+00:00][INFO][17][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed out.
[2020-01-24T11:24:39.2687682+00:00][INFO][17][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.External" signed out.
[2020-01-24T11:24:39.2693035+00:00][INFO][17][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.TwoFactorUserId" signed out.
[2020-01-24T11:24:39.2878600+00:00][INFO][17][IdentityServer4.Events.DefaultEventService] UserLogoutSuccessEvent { SubjectId: "5b39088d-4ed0-41cf-bfe7-a7ef9d110920", DisplayName: "admin", Category: "Authentication", Name: "User Logout Success", EventType: Success, Id: 1002, Message: null, ActivityId: "0HLT0NVEKJD2I:0000000E", TimeStamp: 01/24/2020 11:24:39, ProcessId: 1152, LocalIpAddress: "::ffff:172.19.0.4:80", RemoteIpAddress: "::ffff:172.19.0.1" }
[2020-01-24T11:24:39.2924730+00:00][INFO][17][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "LoggedOut".
[2020-01-24T11:24:39.3032799+00:00][INFO][17][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "LoggedOut" executed in 11.8164ms.
[2020-01-24T11:24:39.3257864+00:00][INFO][17][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Logout (ITLab.Identity.STS.Identity)" in 78.6303ms
[2020-01-24T11:24:39.3261454+00:00][INFO][17][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Logout (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:24:39.3274544+00:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 109.6145ms 200 text/html; charset=utf-8
[2020-01-24T11:24:41.7544441+00:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/  
[2020-01-24T11:24:41.7566028+00:00][INFO][14][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:24:41.7575196+00:00][INFO][14][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:24:41.7604076+00:00][INFO][14][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T11:24:41.7683272+00:00][INFO][14][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 8.9174ms.
[2020-01-24T11:24:41.7688861+00:00][INFO][14][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 10.8728ms
[2020-01-24T11:24:41.7706007+00:00][INFO][14][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:24:41.7727033+00:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 18.2098ms 200 text/html; charset=utf-8
[2020-01-24T11:24:43.0114841+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/.well-known/openid-configuration  
[2020-01-24T11:24:43.0120981+00:00][DBUG][13][IdentityServer4.Hosting.EndpointRouter] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
[2020-01-24T11:24:43.0159289+00:00][DBUG][13][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
[2020-01-24T11:24:43.0176537+00:00][INFO][13][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
[2020-01-24T11:24:43.0226585+00:00][DBUG][13][IdentityServer4.Endpoints.DiscoveryEndpoint] Start discovery request
[2020-01-24T11:24:43.0455019+00:00][INFO][13][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:24:43.1670538+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2020-01-24T11:24:43.3475378+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("70"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2020-01-24T11:24:43.7737908+00:00][DBUG][14][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email", "address", "MyClientId_api"] as all scopes in database
[2020-01-24T11:24:43.8111337+00:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 799.3297ms 200 application/json; charset=UTF-8
[2020-01-24T11:24:45.1611233+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/  
[2020-01-24T11:24:45.1624539+00:00][INFO][10][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:24:45.1629419+00:00][INFO][10][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:24:45.1651257+00:00][INFO][10][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T11:24:45.1797022+00:00][INFO][10][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 14.8009ms.
[2020-01-24T11:24:45.1807979+00:00][INFO][10][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 17.456ms
[2020-01-24T11:24:45.1818442+00:00][INFO][10][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:24:45.1845283+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 23.0094ms 200 text/html; charset=utf-8
[2020-01-24T11:24:45.8292842+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/Account/Login  
[2020-01-24T11:24:45.8315039+00:00][INFO][10][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:24:45.8432090+00:00][INFO][10][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:24:45.8630161+00:00][INFO][10][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-01-24T11:24:45.9021054+00:00][INFO][10][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 39.4118ms.
[2020-01-24T11:24:45.9050706+00:00][INFO][10][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)" in 60.7319ms
[2020-01-24T11:24:45.9059098+00:00][INFO][10][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:24:45.9063604+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 77.0652ms 200 text/html; charset=utf-8
[2020-01-24T11:24:47.6844562+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/Account/Register  
[2020-01-24T11:24:47.6863034+00:00][INFO][13][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Register (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:24:47.6916104+00:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Register\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Register(System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:24:47.6975782+00:00][INFO][13][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Register".
[2020-01-24T11:24:47.7327267+00:00][INFO][13][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Register" executed in 36.23ms.
[2020-01-24T11:24:47.7336429+00:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Register (ITLab.Identity.STS.Identity)" in 40.2194ms
[2020-01-24T11:24:47.7342839+00:00][INFO][13][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Register (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:24:47.7354240+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 50.7088ms 200 text/html; charset=utf-8
[2020-01-24T11:25:06.7377452+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:32775/Account/Register application/x-www-form-urlencoded 278
[2020-01-24T11:25:06.7387982+00:00][DBUG][13][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Account/Register" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2020-01-24T11:25:06.7389182+00:00][INFO][13][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-01-24T11:25:06.7402868+00:00][INFO][13][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Register (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:25:06.7479598+00:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Register\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ITLab.Identity.STS.Identity.ViewModels.Account.RegisterViewModel, System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:25:06.7789795+00:00][WARN][13][Microsoft.AspNetCore.Identity.UserManager] User null password validation failed: "PasswordRequiresDigit".
[2020-01-24T11:25:06.7809690+00:00][INFO][13][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Register".
[2020-01-24T11:25:06.7929518+00:00][INFO][13][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Register" executed in 12.1913ms.
[2020-01-24T11:25:06.7947438+00:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Register (ITLab.Identity.STS.Identity)" in 46.4194ms
[2020-01-24T11:25:06.7949749+00:00][INFO][13][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Register (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:25:06.7958217+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 58.0162ms 200 text/html; charset=utf-8
[2020-01-24T11:25:22.9399734+00:00][INFO][18][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:32775/Account/Register?returnurl=%2F application/x-www-form-urlencoded 280
[2020-01-24T11:25:22.9403714+00:00][DBUG][18][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Account/Register" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2020-01-24T11:25:22.9641307+00:00][INFO][18][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-01-24T11:25:22.9658687+00:00][INFO][18][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Register (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:25:22.9674007+00:00][INFO][18][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Register\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ITLab.Identity.STS.Identity.ViewModels.Account.RegisterViewModel, System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:25:23.0272321+00:00][INFO][18][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"DataBaseContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:25:23.0535414+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2020-01-24T11:25:23.0944807+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__normalizedEmail_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedEmail\" = @__normalizedEmail_0
LIMIT 2"
[2020-01-24T11:25:23.2453218+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?', @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Boolean), @p15='?', @p16='?' (DbType = Boolean), @p17='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"AspNetUsers\" (\"Id\", \"AccessFailedCount\", \"ConcurrencyStamp\", \"Email\", \"EmailConfirmed\", \"FirstName\", \"LastName\", \"LockoutEnabled\", \"LockoutEnd\", \"MiddleName\", \"NormalizedEmail\", \"NormalizedUserName\", \"PasswordHash\", \"PhoneNumber\", \"PhoneNumberConfirmed\", \"SecurityStamp\", \"TwoFactorEnabled\", \"UserName\")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);"
[2020-01-24T11:25:23.3152786+00:00][INFO][13][ITLab.Identity.STS.Identity.Services.EmailSender] Email: user@rtuitlab.ru, subject: Confirm your email, message: Please confirm your account by <a href='http://localhost:32775/Account/ConfirmEmail?userId=c59ff716-0eb4-400a-901f-6e438941c581&amp;code=CfDJ8PbRv7TZNr9OslIYkJZi6sesgR4DXDXcr0b%2BVXSU88SpzdVtiIk%2FAa04TNWXOBDeos5sAHfXqYGb3i%2FDch2mMd10xwwqf3Il8A2jUN0YBNIofklc1hnbGxgiePO33laWru9KEhV5sDQ2BFDtnOqRwEFyMadbRPDropWwH39nuEfPlF%2BxDy5mC7fos3edngVhqN5c7%2FVhJZ3RsFmTXDU%2Bxdfvy9u%2FWJSBHUzZ7R%2Fmg%2BOwsy8PFg7FI8YTqpDR8LQo8Q%3D%3D'>clicking here</a>.
[2020-01-24T11:25:23.3353341+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"ClaimType\", a.\"ClaimValue\", a.\"UserId\"
FROM \"AspNetUserClaims\" AS a
WHERE a.\"UserId\" = @__user_Id_0"
[2020-01-24T11:25:23.4267400+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a0.\"Name\"
FROM \"AspNetUserRoles\" AS a
INNER JOIN \"AspNetRoles\" AS a0 ON a.\"RoleId\" = a0.\"Id\"
WHERE a.\"UserId\" = @__userId_0"
[2020-01-24T11:25:23.4417956+00:00][DBUG][13][IdentityServer4.Hosting.IdentityServerAuthenticationService] Augmenting SignInContext
[2020-01-24T11:25:23.4431274+00:00][DBUG][13][IdentityServer4.Hosting.IdentityServerAuthenticationService] Adding idp claim with value: "local"
[2020-01-24T11:25:23.4432768+00:00][DBUG][13][IdentityServer4.Hosting.IdentityServerAuthenticationService] Adding amr claim with value: "pwd"
[2020-01-24T11:25:23.4438387+00:00][DBUG][13][IdentityServer4.Hosting.IdentityServerAuthenticationService] Adding auth_time claim with value: "1579865123"
[2020-01-24T11:25:23.4477047+00:00][INFO][13][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2020-01-24T11:25:23.4491314+00:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor] Executing RedirectResult, redirecting to "/".
[2020-01-24T11:25:23.4495966+00:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Register (ITLab.Identity.STS.Identity)" in 481.6526ms
[2020-01-24T11:25:23.4499538+00:00][INFO][13][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Register (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:25:23.4507739+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 510.8176ms 302 
[2020-01-24T11:25:23.4767824+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/  
[2020-01-24T11:25:23.4786156+00:00][INFO][10][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:25:23.4789553+00:00][INFO][10][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:25:23.4801312+00:00][INFO][10][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T11:25:23.4824662+00:00][INFO][10][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization failed.
[2020-01-24T11:25:23.4850715+00:00][INFO][10][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 5.0845ms.
[2020-01-24T11:25:23.4853388+00:00][INFO][10][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 6.2631ms
[2020-01-24T11:25:23.4858805+00:00][INFO][10][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:25:23.4872995+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 10.3337ms 200 text/html; charset=utf-8
[2020-01-24T11:25:29.6860088+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/Manage  
[2020-01-24T11:25:29.6883450+00:00][INFO][10][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:25:29.6886102+00:00][INFO][10][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.ManageController<Models.People.User, System.Guid>.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:25:29.6894908+00:00][INFO][10][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Manage\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "ITLab.Identity.STS.Identity.Controllers.ManageController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:25:29.6924961+00:00][INFO][10][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"DataBaseContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:25:29.7006769+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"Id\" = @__p_0
LIMIT 1"
[2020-01-24T11:25:29.7053233+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"ClaimType\", a.\"ClaimValue\", a.\"UserId\"
FROM \"AspNetUserClaims\" AS a
WHERE a.\"UserId\" = @__user_Id_0"
[2020-01-24T11:25:29.7064845+00:00][INFO][10][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T11:25:29.7180531+00:00][INFO][10][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization failed.
[2020-01-24T11:25:29.7208477+00:00][INFO][10][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 14.4169ms.
[2020-01-24T11:25:29.7217091+00:00][INFO][10][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.ManageController<Models.People.User, System.Guid>.Index (ITLab.Identity.STS.Identity)" in 31.7641ms
[2020-01-24T11:25:29.7219943+00:00][INFO][10][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.ManageController<Models.People.User, System.Guid>.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:25:29.7233897+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 37.1845ms 200 text/html; charset=utf-8
[2020-01-24T11:25:31.3314001+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/  
[2020-01-24T11:25:31.3348164+00:00][INFO][10][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:25:31.3364202+00:00][INFO][10][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:25:31.3417365+00:00][INFO][10][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T11:25:31.3477549+00:00][INFO][10][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization failed.
[2020-01-24T11:25:31.3508337+00:00][INFO][10][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 9.1902ms.
[2020-01-24T11:25:31.3514385+00:00][INFO][10][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 11.4091ms
[2020-01-24T11:25:31.3520715+00:00][INFO][10][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:25:31.3528641+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 21.1783ms 200 text/html; charset=utf-8
[2020-01-24T11:25:34.3693088+00:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/Manage/PersonalData  
[2020-01-24T11:25:34.3711448+00:00][INFO][12][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:25:34.3713302+00:00][INFO][12][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.ManageController<Models.People.User, System.Guid>.PersonalData (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:25:34.3726417+00:00][INFO][12][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"PersonalData\", controller = \"Manage\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PersonalData()" on controller "ITLab.Identity.STS.Identity.Controllers.ManageController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:25:34.4186981+00:00][INFO][12][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"DataBaseContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:25:34.4293082+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__p_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"Id\" = @__p_0
LIMIT 1"
[2020-01-24T11:25:34.4574622+00:00][INFO][10][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "PersonalData".
[2020-01-24T11:25:34.5048799+00:00][INFO][10][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization failed.
[2020-01-24T11:25:34.5075393+00:00][INFO][10][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "PersonalData" executed in 50.1153ms.
[2020-01-24T11:25:34.5085038+00:00][INFO][10][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.ManageController<Models.People.User, System.Guid>.PersonalData (ITLab.Identity.STS.Identity)" in 135.3228ms
[2020-01-24T11:25:34.5088113+00:00][INFO][10][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.ManageController<Models.People.User, System.Guid>.PersonalData (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:25:34.5099770+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 140.6149ms 200 text/html; charset=utf-8
[2020-01-24T11:25:35.7290497+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:32775/Manage/DownloadPersonalData application/x-www-form-urlencoded 225
[2020-01-24T11:25:35.7295982+00:00][DBUG][13][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Manage/DownloadPersonalData" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2020-01-24T11:25:35.7300120+00:00][INFO][13][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-01-24T11:25:35.7324760+00:00][INFO][13][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:25:35.7338201+00:00][INFO][13][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.ManageController<Models.People.User, System.Guid>.DownloadPersonalData (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:25:35.7359123+00:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"DownloadPersonalData\", controller = \"Manage\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadPersonalData()" on controller "ITLab.Identity.STS.Identity.Controllers.ManageController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:25:35.7403036+00:00][INFO][13][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"DataBaseContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:25:35.7436733+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"Id\" = @__p_0
LIMIT 1"
[2020-01-24T11:25:35.7452566+00:00][INFO][13][ITLab.Identity.STS.Identity.Controllers.ManageController] User with ID '"c59ff716-0eb4-400a-901f-6e438941c581"' asked for their personal data.
[2020-01-24T11:25:35.7466752+00:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor] Executing "Microsoft.AspNetCore.Mvc.FileContentResult", sending file with download name '""' ...
[2020-01-24T11:25:35.7488923+00:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.ManageController<Models.People.User, System.Guid>.DownloadPersonalData (ITLab.Identity.STS.Identity)" in 11.8632ms
[2020-01-24T11:25:35.7495253+00:00][INFO][13][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.ManageController<Models.People.User, System.Guid>.DownloadPersonalData (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:25:35.7507308+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 21.5997ms 200 text/json
[2020-01-24T11:25:51.5616100+00:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/  
[2020-01-24T11:25:51.5637998+00:00][INFO][14][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:25:51.5658102+00:00][INFO][14][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:25:51.5730568+00:00][INFO][14][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T11:25:51.5805086+00:00][INFO][14][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization failed.
[2020-01-24T11:25:51.5894733+00:00][INFO][14][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 16.4602ms.
[2020-01-24T11:25:51.5908018+00:00][INFO][14][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 20.4206ms
[2020-01-24T11:25:51.5920344+00:00][INFO][14][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:25:51.5938409+00:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 32.18ms 200 text/html; charset=utf-8
[2020-01-24T11:25:54.1568745+00:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/Manage/TwoFactorAuthentication  
[2020-01-24T11:25:54.1585651+00:00][INFO][14][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:25:54.1588119+00:00][INFO][14][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.ManageController<Models.People.User, System.Guid>.TwoFactorAuthentication (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:25:54.1691126+00:00][INFO][14][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"TwoFactorAuthentication\", controller = \"Manage\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TwoFactorAuthentication()" on controller "ITLab.Identity.STS.Identity.Controllers.ManageController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:25:54.1810318+00:00][INFO][14][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"DataBaseContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:25:54.1996379+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"Id\" = @__p_0
LIMIT 1"
[2020-01-24T11:25:54.3108263+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("65"ms) [Parameters=["@__p_0='?' (DbType = Guid), @__p_1='?', @__p_2='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"UserId\", a.\"LoginProvider\", a.\"Name\", a.\"Value\"
FROM \"AspNetUserTokens\" AS a
WHERE ((a.\"UserId\" = @__p_0) AND (a.\"LoginProvider\" = @__p_1)) AND (a.\"Name\" = @__p_2)
LIMIT 1"
[2020-01-24T11:25:54.3230486+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Guid), @__p_1='?', @__p_2='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"UserId\", a.\"LoginProvider\", a.\"Name\", a.\"Value\"
FROM \"AspNetUserTokens\" AS a
WHERE ((a.\"UserId\" = @__p_0) AND (a.\"LoginProvider\" = @__p_1)) AND (a.\"Name\" = @__p_2)
LIMIT 1"
[2020-01-24T11:25:54.3308517+00:00][INFO][14][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "TwoFactorAuthentication".
[2020-01-24T11:25:54.3440926+00:00][INFO][14][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization failed.
[2020-01-24T11:25:54.3468988+00:00][INFO][14][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "TwoFactorAuthentication" executed in 16.7071ms.
[2020-01-24T11:25:54.3472378+00:00][INFO][14][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.ManageController<Models.People.User, System.Guid>.TwoFactorAuthentication (ITLab.Identity.STS.Identity)" in 170.8699ms
[2020-01-24T11:25:54.3475165+00:00][INFO][14][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.ManageController<Models.People.User, System.Guid>.TwoFactorAuthentication (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:25:54.3479565+00:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 191.0891ms 200 text/html; charset=utf-8
[2020-01-24T11:25:58.3810035+00:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/  
[2020-01-24T11:25:58.3821460+00:00][INFO][14][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:25:58.3823331+00:00][INFO][14][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:25:58.3831297+00:00][INFO][14][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T11:25:58.3845374+00:00][INFO][14][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization failed.
[2020-01-24T11:25:58.3870727+00:00][INFO][14][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 3.9477ms.
[2020-01-24T11:25:58.3880158+00:00][INFO][14][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 5.5145ms
[2020-01-24T11:25:58.3888846+00:00][INFO][14][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:25:58.3910630+00:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 9.8636ms 200 text/html; charset=utf-8
[2020-01-24T11:26:01.9814056+00:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/Account/Logout  
[2020-01-24T11:26:01.9829869+00:00][INFO][14][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:26:01.9833190+00:00][INFO][14][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Logout (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:26:01.9838194+00:00][INFO][14][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Logout\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout(System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:26:01.9871508+00:00][INFO][14][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Logout".
[2020-01-24T11:26:01.9935077+00:00][INFO][14][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization failed.
[2020-01-24T11:26:01.9994791+00:00][INFO][14][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Logout" executed in 12.4736ms.
[2020-01-24T11:26:02.0013056+00:00][INFO][14][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Logout (ITLab.Identity.STS.Identity)" in 16.5402ms
[2020-01-24T11:26:02.0025803+00:00][INFO][14][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Logout (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:26:02.0037735+00:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 22.3303ms 200 text/html; charset=utf-8
[2020-01-24T11:26:03.6327891+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:32775/Account/Logout application/x-www-form-urlencoded 235
[2020-01-24T11:26:03.6333865+00:00][DBUG][5][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Account/Logout" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2020-01-24T11:26:03.6334760+00:00][INFO][5][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-01-24T11:26:03.6379539+00:00][INFO][5][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:26:03.6381502+00:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Logout (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:26:03.6422441+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Logout\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout(ITLab.Identity.STS.Identity.ViewModels.Account.LogoutInputModel)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:26:03.6453568+00:00][INFO][5][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed out.
[2020-01-24T11:26:03.6476966+00:00][INFO][5][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.External" signed out.
[2020-01-24T11:26:03.6491842+00:00][INFO][5][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.TwoFactorUserId" signed out.
[2020-01-24T11:26:03.6509036+00:00][INFO][5][IdentityServer4.Events.DefaultEventService] UserLogoutSuccessEvent { SubjectId: "c59ff716-0eb4-400a-901f-6e438941c581", DisplayName: "user", Category: "Authentication", Name: "User Logout Success", EventType: Success, Id: 1002, Message: null, ActivityId: "0HLT0NVEKJD2I:0000001F", TimeStamp: 01/24/2020 11:26:03, ProcessId: 1152, LocalIpAddress: "::ffff:172.19.0.4:80", RemoteIpAddress: "::ffff:172.19.0.1" }
[2020-01-24T11:26:03.6528878+00:00][INFO][5][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "LoggedOut".
[2020-01-24T11:26:03.6579974+00:00][INFO][5][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "LoggedOut" executed in 5.4243ms.
[2020-01-24T11:26:03.6590609+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Logout (ITLab.Identity.STS.Identity)" in 16.502ms
[2020-01-24T11:26:03.6609528+00:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Logout (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:26:03.6666642+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 33.8179ms 200 text/html; charset=utf-8
[2020-01-24T11:26:05.4177565+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/  
[2020-01-24T11:26:05.4190499+00:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:26:05.4196777+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:26:05.4208302+00:00][INFO][5][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T11:26:05.4253938+00:00][INFO][5][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 4.6351ms.
[2020-01-24T11:26:05.4260382+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 5.7814ms
[2020-01-24T11:26:05.4269995+00:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:26:05.4287357+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 11.009ms 200 text/html; charset=utf-8
[2020-01-24T11:26:06.6408447+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/Account/Login  
[2020-01-24T11:26:06.6427814+00:00][INFO][10][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:26:06.6440167+00:00][INFO][10][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:26:06.6465291+00:00][INFO][10][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-01-24T11:26:06.6570365+00:00][INFO][10][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 10.4947ms.
[2020-01-24T11:26:06.6578372+00:00][INFO][10][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)" in 13.5017ms
[2020-01-24T11:26:06.6591116+00:00][INFO][10][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:26:06.6605456+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 19.6923ms 200 text/html; charset=utf-8
[2020-01-24T11:26:09.5442475+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:32775/Account/Login application/x-www-form-urlencoded 286
[2020-01-24T11:26:09.5447446+00:00][DBUG][10][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Account/Login" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2020-01-24T11:26:09.5463637+00:00][INFO][10][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-01-24T11:26:09.5472865+00:00][INFO][10][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:26:09.5596201+00:00][INFO][10][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ITLab.Identity.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:26:09.5730680+00:00][INFO][10][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"DataBaseContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:26:09.6039188+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("27"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2020-01-24T11:26:09.8085304+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("53"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2020-01-24T11:26:09.8647897+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"ClaimType\", a.\"ClaimValue\", a.\"UserId\"
FROM \"AspNetUserClaims\" AS a
WHERE a.\"UserId\" = @__user_Id_0"
[2020-01-24T11:26:09.8734502+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a0.\"Name\"
FROM \"AspNetUserRoles\" AS a
INNER JOIN \"AspNetRoles\" AS a0 ON a.\"RoleId\" = a0.\"Id\"
WHERE a.\"UserId\" = @__userId_0"
[2020-01-24T11:26:09.9086206+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__normalizedName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"ConcurrencyStamp\", a.\"Name\", a.\"NormalizedName\"
FROM \"AspNetRoles\" AS a
WHERE a.\"NormalizedName\" = @__normalizedName_0
LIMIT 1"
[2020-01-24T11:26:09.9361208+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"ClaimType\", a.\"ClaimValue\"
FROM \"AspNetRoleClaims\" AS a
WHERE a.\"RoleId\" = @__role_Id_0"
[2020-01-24T11:26:09.9423742+00:00][DBUG][13][IdentityServer4.Hosting.IdentityServerAuthenticationService] Augmenting SignInContext
[2020-01-24T11:26:09.9426152+00:00][DBUG][13][IdentityServer4.Hosting.IdentityServerAuthenticationService] Adding idp claim with value: "local"
[2020-01-24T11:26:09.9438856+00:00][DBUG][13][IdentityServer4.Hosting.IdentityServerAuthenticationService] Adding auth_time claim with value: "1579865169"
[2020-01-24T11:26:09.9454479+00:00][INFO][13][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2020-01-24T11:26:09.9494066+00:00][INFO][13][IdentityServer4.Events.DefaultEventService] UserLoginSuccessEvent { Username: "admin", Provider: null, ProviderUserId: null, SubjectId: "5b39088d-4ed0-41cf-bfe7-a7ef9d110920", DisplayName: "admin", Endpoint: "UI", ClientId: null, Category: "Authentication", Name: "User Login Success", EventType: Success, Id: 1000, Message: null, ActivityId: "0HLT0NVEKJD2I:00000022", TimeStamp: 01/24/2020 11:26:09, ProcessId: 1152, LocalIpAddress: "::ffff:172.19.0.4:80", RemoteIpAddress: "::ffff:172.19.0.1" }
[2020-01-24T11:26:09.9504367+00:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor] Executing RedirectResult, redirecting to "/".
[2020-01-24T11:26:09.9512941+00:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)" in 391.1218ms
[2020-01-24T11:26:09.9516004+00:00][INFO][13][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:26:09.9527579+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 408.5902ms 302 
[2020-01-24T11:26:09.9697911+00:00][INFO][7][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/  
[2020-01-24T11:26:09.9711829+00:00][INFO][7][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:26:09.9714007+00:00][INFO][7][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:26:09.9718202+00:00][INFO][7][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T11:26:09.9733700+00:00][INFO][7][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:26:09.9758105+00:00][INFO][7][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 4.0154ms.
[2020-01-24T11:26:09.9759658+00:00][INFO][7][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 4.4494ms
[2020-01-24T11:26:09.9761332+00:00][INFO][7][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:26:09.9762582+00:00][INFO][7][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 6.4885ms 200 text/html; charset=utf-8
[2020-01-24T11:26:11.7669443+00:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/.well-known/openid-configuration  
[2020-01-24T11:26:11.7675080+00:00][DBUG][14][IdentityServer4.Hosting.EndpointRouter] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
[2020-01-24T11:26:11.7683696+00:00][DBUG][14][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
[2020-01-24T11:26:11.7708880+00:00][INFO][14][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
[2020-01-24T11:26:11.7725164+00:00][DBUG][14][IdentityServer4.Endpoints.DiscoveryEndpoint] Start discovery request
[2020-01-24T11:26:11.7745735+00:00][INFO][14][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:26:11.8106040+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("31"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2020-01-24T11:26:11.8910552+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2020-01-24T11:26:11.9144050+00:00][DBUG][13][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email", "address", "MyClientId_api"] as all scopes in database
[2020-01-24T11:26:11.9170872+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 150.1228ms 200 application/json; charset=UTF-8
[2020-01-24T11:26:12.1145414+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/.well-known/openid-configuration/jwks  
[2020-01-24T11:26:12.1146915+00:00][DBUG][13][IdentityServer4.Hosting.EndpointRouter] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
[2020-01-24T11:26:12.1157553+00:00][DBUG][13][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
[2020-01-24T11:26:12.1159699+00:00][INFO][13][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
[2020-01-24T11:26:12.1180849+00:00][DBUG][13][IdentityServer4.Endpoints.DiscoveryKeyEndpoint] Start key discovery request
[2020-01-24T11:26:12.1479595+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 33.4244ms 200 application/jwk-set+json; charset=UTF-8
[2020-01-24T11:26:12.2510987+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/connect/authorize?client_id=MyClientId&redirect_uri=http%3A%2F%2F127.0.0.1.xip.io%3A9000%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20email%20roles&response_mode=form_post&nonce=637154619721722429.MjYwNjk1ZWQtOGQ2ZS00MDNmLTllZTEtZDAzYzFhZWQyZjFmMzA5YmEyZTQtODk0Yi00ZDIwLWFlMWUtYzIzN2E0NTEzMjVj&state=CfDJ8ALkfCZe03BDjY6uy4mDTrEqd3S5_ctAe8C9X6gR5xbVeqwwxl6h-N0WoOxTcBxJlBu25nC7NgRKJfzwdLEB98xQYtHeJJosgqLVsthFud-3QSgG76Vh8BxBv1vpD-nh7v2o8xNAzo4KFL_wXhqqxiXSiio6YcdhcSe-23plJPuCL4DX6_rcvl-FkEr1ucoOyYjft2fUQNrWIp53jBZfR70N-b5iQxisL2-iVGj-nGal0dcFe6Z7FLc4fU-dbkjh_3wFDYpBU9iMJorcGI6_oUom1QhYUidlJthJIRPaLl1P&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
[2020-01-24T11:26:12.2524965+00:00][INFO][13][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-01-24T11:26:12.2527571+00:00][INFO][13][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-01-24T11:26:12.2533114+00:00][DBUG][13][IdentityServer4.Hosting.EndpointRouter] Request path "/connect/authorize" matched to endpoint type "Authorize"
[2020-01-24T11:26:12.2567005+00:00][DBUG][13][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Authorize", successfully created handler: "IdentityServer4.Endpoints.AuthorizeEndpoint"
[2020-01-24T11:26:12.2568289+00:00][INFO][13][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-01-24T11:26:12.2594396+00:00][DBUG][13][IdentityServer4.Endpoints.AuthorizeEndpoint] Start authorize request
[2020-01-24T11:26:12.2616928+00:00][INFO][13][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-01-24T11:26:12.2640021+00:00][DBUG][13][IdentityServer4.Endpoints.AuthorizeEndpoint] No user present in authorize request
[2020-01-24T11:26:12.2662582+00:00][DBUG][13][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2020-01-24T11:26:12.2762110+00:00][INFO][13][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:26:12.2955780+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2020-01-24T11:26:12.4166921+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:12.4562766+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:12.4744063+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:12.4947678+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:12.5076966+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:12.5722292+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:12.5849887+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:12.6236804+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:12.6399262+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:12.7254656+00:00][DBUG][14][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2020-01-24T11:26:12.7317024+00:00][DBUG][14][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2020-01-24T11:26:12.7425029+00:00][DBUG][14][IdentityServer4.Validation.AuthorizeRequestValidator] Checking for PKCE parameters
[2020-01-24T11:26:12.7434522+00:00][DBUG][14][IdentityServer4.Validation.AuthorizeRequestValidator] No PKCE used.
[2020-01-24T11:26:12.8768968+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("52"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2020-01-24T11:26:12.9013953+00:00][DBUG][7][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2020-01-24T11:26:12.9411838+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2020-01-24T11:26:12.9430099+00:00][DBUG][14][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2020-01-24T11:26:12.9526172+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2020-01-24T11:26:12.9766367+00:00][DBUG][7][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2020-01-24T11:26:13.0209450+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("43"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2020-01-24T11:26:13.0227490+00:00][DBUG][7][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2020-01-24T11:26:13.0278280+00:00][DBUG][7][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2020-01-24T11:26:13.0358375+00:00][DBUG][7][IdentityServer4.Endpoints.AuthorizeEndpoint] ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "MyClientId", ClientName: "MyClientId", RedirectUri: "http://127.0.0.1.xip.io:9000/signin-oidc", AllowedRedirectUris: ["http://127.0.0.1.xip.io:9000/signin-oidc"], SubjectId: "anonymous", ResponseType: "code id_token", ResponseMode: "form_post", GrantType: "hybrid", RequestedScopes: "openid profile email roles", State: "CfDJ8ALkfCZe03BDjY6uy4mDTrEqd3S5_ctAe8C9X6gR5xbVeqwwxl6h-N0WoOxTcBxJlBu25nC7NgRKJfzwdLEB98xQYtHeJJosgqLVsthFud-3QSgG76Vh8BxBv1vpD-nh7v2o8xNAzo4KFL_wXhqqxiXSiio6YcdhcSe-23plJPuCL4DX6_rcvl-FkEr1ucoOyYjft2fUQNrWIp53jBZfR70N-b5iQxisL2-iVGj-nGal0dcFe6Z7FLc4fU-dbkjh_3wFDYpBU9iMJorcGI6_oUom1QhYUidlJthJIRPaLl1P", UiLocales: null, Nonce: "637154619721722429.MjYwNjk1ZWQtOGQ2ZS00MDNmLTllZTEtZDAzYzFhZWQyZjFmMzA5YmEyZTQtODk0Yi00ZDIwLWFlMWUtYzIzN2E0NTEzMjVj", AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: null, MaxAge: null, LoginHint: null, SessionId: "", Raw: [("client_id": "MyClientId"), ("redirect_uri": "http://127.0.0.1.xip.io:9000/signin-oidc"), ("response_type": "code id_token"), ("scope": "openid profile email roles"), ("response_mode": "form_post"), ("nonce": "637154619721722429.MjYwNjk1ZWQtOGQ2ZS00MDNmLTllZTEtZDAzYzFhZWQyZjFmMzA5YmEyZTQtODk0Yi00ZDIwLWFlMWUtYzIzN2E0NTEzMjVj"), ("state": "CfDJ8ALkfCZe03BDjY6uy4mDTrEqd3S5_ctAe8C9X6gR5xbVeqwwxl6h-N0WoOxTcBxJlBu25nC7NgRKJfzwdLEB98xQYtHeJJosgqLVsthFud-3QSgG76Vh8BxBv1vpD-nh7v2o8xNAzo4KFL_wXhqqxiXSiio6YcdhcSe-23plJPuCL4DX6_rcvl-FkEr1ucoOyYjft2fUQNrWIp53jBZfR70N-b5iQxisL2-iVGj-nGal0dcFe6Z7FLc4fU-dbkjh_3wFDYpBU9iMJorcGI6_oUom1QhYUidlJthJIRPaLl1P"), ("x-client-SKU": "ID_NETSTANDARD2_0"), ("x-client-ver": "5.5.0.0")] }
[2020-01-24T11:26:13.0428734+00:00][INFO][7][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] Showing login: User is not authenticated
[2020-01-24T11:26:13.0470194+00:00][INFO][7][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 795.8856ms 302 
[2020-01-24T11:26:13.0648505+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3DMyClientId%26redirect_uri%3Dhttp%253A%252F%252F127.0.0.1.xip.io%253A9000%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520roles%26response_mode%3Dform_post%26nonce%3D637154619721722429.MjYwNjk1ZWQtOGQ2ZS00MDNmLTllZTEtZDAzYzFhZWQyZjFmMzA5YmEyZTQtODk0Yi00ZDIwLWFlMWUtYzIzN2E0NTEzMjVj%26state%3DCfDJ8ALkfCZe03BDjY6uy4mDTrEqd3S5_ctAe8C9X6gR5xbVeqwwxl6h-N0WoOxTcBxJlBu25nC7NgRKJfzwdLEB98xQYtHeJJosgqLVsthFud-3QSgG76Vh8BxBv1vpD-nh7v2o8xNAzo4KFL_wXhqqxiXSiio6YcdhcSe-23plJPuCL4DX6_rcvl-FkEr1ucoOyYjft2fUQNrWIp53jBZfR70N-b5iQxisL2-iVGj-nGal0dcFe6Z7FLc4fU-dbkjh_3wFDYpBU9iMJorcGI6_oUom1QhYUidlJthJIRPaLl1P%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0  
[2020-01-24T11:26:13.0655743+00:00][INFO][13][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-01-24T11:26:13.0656525+00:00][INFO][13][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-01-24T11:26:13.0676221+00:00][INFO][13][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:26:13.0690825+00:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:26:13.0738490+00:00][INFO][13][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-01-24T11:26:13.0742609+00:00][DBUG][13][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2020-01-24T11:26:13.0756335+00:00][INFO][13][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:26:13.0998343+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2020-01-24T11:26:13.1927543+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("46"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:13.2421577+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:13.2760077+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("31"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:13.2850007+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:13.3125755+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:13.3394856+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:13.3476840+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:13.3547240+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:13.3826602+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:13.3842506+00:00][DBUG][14][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2020-01-24T11:26:13.3848230+00:00][DBUG][14][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2020-01-24T11:26:13.3853232+00:00][DBUG][14][IdentityServer4.Validation.AuthorizeRequestValidator] Checking for PKCE parameters
[2020-01-24T11:26:13.3856675+00:00][DBUG][14][IdentityServer4.Validation.AuthorizeRequestValidator] No PKCE used.
[2020-01-24T11:26:13.3923847+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2020-01-24T11:26:13.3967355+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2020-01-24T11:26:13.4012580+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2020-01-24T11:26:13.4030266+00:00][DBUG][14][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2020-01-24T11:26:13.4532293+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2020-01-24T11:26:13.4547326+00:00][DBUG][14][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2020-01-24T11:26:13.4623081+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2020-01-24T11:26:13.4874279+00:00][DBUG][18][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2020-01-24T11:26:13.4898824+00:00][DBUG][14][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2020-01-24T11:26:13.5207274+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2020-01-24T11:26:13.5479236+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:13.5537213+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:13.5596754+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:13.5659134+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:13.5742396+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:13.5784122+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:13.5835581+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:13.5911212+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:13.6181987+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:13.6187794+00:00][DBUG][18][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2020-01-24T11:26:13.6192232+00:00][DBUG][18][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2020-01-24T11:26:13.6208822+00:00][INFO][18][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-01-24T11:26:13.6257328+00:00][INFO][18][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 4.9873ms.
[2020-01-24T11:26:13.6262636+00:00][INFO][18][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)" in 556.9555ms
[2020-01-24T11:26:13.6267071+00:00][INFO][18][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:26:13.6277875+00:00][INFO][18][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 562.928ms 200 text/html; charset=utf-8
[2020-01-24T11:26:13.6918113+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/dist/css/bundle.min.css?v=oT_78HNbw1icHDGc5AceMykUYmOGOJKGRMVmkJ7XyTk  
[2020-01-24T11:26:13.7194447+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/dist/css/web.css?v=xyATVK1qJOMwc5iqad_yMVmZ1bPSh2NrIU-LFUH1QnQ  
[2020-01-24T11:26:13.7311901+00:00][INFO][18][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/dist/js/bundle.min.js?v=gx980t9VMyQmp-CYZN_SNKOVwaBwsiIO8EaS2b0oj1I  
[2020-01-24T11:26:13.8058465+00:00][INFO][7][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/web.css"'. Physical path: '"/app/wwwroot/dist/css/web.css"'
[2020-01-24T11:26:13.8290384+00:00][INFO][7][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 108.8426ms 200 text/css
[2020-01-24T11:26:13.8647452+00:00][INFO][14][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/js/bundle.min.js"'. Physical path: '"/app/wwwroot/dist/js/bundle.min.js"'
[2020-01-24T11:26:13.8709268+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 139.7225ms 200 application/javascript
[2020-01-24T11:26:13.8753714+00:00][INFO][10][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/bundle.min.css"'. Physical path: '"/app/wwwroot/dist/css/bundle.min.css"'
[2020-01-24T11:26:13.8755142+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 183.7181ms 200 text/css
[2020-01-24T11:26:14.0756025+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/dist/fonts/open-iconic.woff  
[2020-01-24T11:26:14.0752944+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/dist/fonts/fontawesome-webfont.woff2?v=4.7.0  
[2020-01-24T11:26:14.1032894+00:00][INFO][10][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/open-iconic.woff"'. Physical path: '"/app/wwwroot/dist/fonts/open-iconic.woff"'
[2020-01-24T11:26:14.1038308+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 28.156ms 200 application/font-woff
[2020-01-24T11:26:14.1073098+00:00][INFO][18][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/fontawesome-webfont.woff2"'. Physical path: '"/app/wwwroot/dist/fonts/fontawesome-webfont.woff2"'
[2020-01-24T11:26:14.1082151+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 32.8458ms 200 font/woff2
[2020-01-24T11:26:20.4963146+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://127.0.0.1.xip.io/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3DMyClientId%26redirect_uri%3Dhttp%253A%252F%252F127.0.0.1.xip.io%253A9000%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520roles%26response_mode%3Dform_post%26nonce%3D637154619721722429.MjYwNjk1ZWQtOGQ2ZS00MDNmLTllZTEtZDAzYzFhZWQyZjFmMzA5YmEyZTQtODk0Yi00ZDIwLWFlMWUtYzIzN2E0NTEzMjVj%26state%3DCfDJ8ALkfCZe03BDjY6uy4mDTrEqd3S5_ctAe8C9X6gR5xbVeqwwxl6h-N0WoOxTcBxJlBu25nC7NgRKJfzwdLEB98xQYtHeJJosgqLVsthFud-3QSgG76Vh8BxBv1vpD-nh7v2o8xNAzo4KFL_wXhqqxiXSiio6YcdhcSe-23plJPuCL4DX6_rcvl-FkEr1ucoOyYjft2fUQNrWIp53jBZfR70N-b5iQxisL2-iVGj-nGal0dcFe6Z7FLc4fU-dbkjh_3wFDYpBU9iMJorcGI6_oUom1QhYUidlJthJIRPaLl1P%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0 application/x-www-form-urlencoded 1035
[2020-01-24T11:26:20.4965602+00:00][DBUG][4][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Account/Login" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2020-01-24T11:26:20.4966397+00:00][INFO][4][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-01-24T11:26:20.4987093+00:00][INFO][4][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-01-24T11:26:20.4989740+00:00][INFO][4][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-01-24T11:26:20.5000018+00:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:26:20.5003530+00:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ITLab.Identity.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:26:20.5033477+00:00][INFO][4][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-01-24T11:26:20.5035884+00:00][DBUG][4][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2020-01-24T11:26:20.5043610+00:00][INFO][4][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:26:20.5346054+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2020-01-24T11:26:20.5459525+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:20.5541849+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:20.5634646+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:20.5691153+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:20.5771998+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:20.5860392+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:20.5930936+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:20.6223535+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:20.6546782+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:20.6565741+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2020-01-24T11:26:20.6570515+00:00][DBUG][4][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2020-01-24T11:26:20.6574142+00:00][DBUG][4][IdentityServer4.Validation.AuthorizeRequestValidator] Checking for PKCE parameters
[2020-01-24T11:26:20.6577769+00:00][DBUG][4][IdentityServer4.Validation.AuthorizeRequestValidator] No PKCE used.
[2020-01-24T11:26:20.6652432+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2020-01-24T11:26:20.6666740+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2020-01-24T11:26:20.7146132+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2020-01-24T11:26:20.7160442+00:00][DBUG][13][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2020-01-24T11:26:20.7198395+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2020-01-24T11:26:20.7242035+00:00][DBUG][13][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2020-01-24T11:26:20.7549794+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2020-01-24T11:26:20.7804070+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2020-01-24T11:26:20.7817221+00:00][DBUG][4][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2020-01-24T11:26:20.7843294+00:00][INFO][4][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"DataBaseContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:26:20.8174583+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("31"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2020-01-24T11:26:20.8594142+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2020-01-24T11:26:20.8746001+00:00][WARN][4][Microsoft.AspNetCore.Identity.UserManager] Invalid password for user "5b39088d-4ed0-41cf-bfe7-a7ef9d110920".
[2020-01-24T11:26:20.8752067+00:00][WARN][4][Microsoft.AspNetCore.Identity.SignInManager] User "5b39088d-4ed0-41cf-bfe7-a7ef9d110920" failed to provide the correct password.
[2020-01-24T11:26:20.9349494+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("31"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2020-01-24T11:26:20.9623764+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__normalizedEmail_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedEmail\" = @__normalizedEmail_0
LIMIT 2"
[2020-01-24T11:26:20.9902726+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@p17='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?', @p13='?' (DbType = Boolean), @p14='?', @p15='?' (DbType = Boolean), @p16='?'"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"AspNetUsers\" SET \"AccessFailedCount\" = @p0, \"ConcurrencyStamp\" = @p1, \"Email\" = @p2, \"EmailConfirmed\" = @p3, \"FirstName\" = @p4, \"LastName\" = @p5, \"LockoutEnabled\" = @p6, \"LockoutEnd\" = @p7, \"MiddleName\" = @p8, \"NormalizedEmail\" = @p9, \"NormalizedUserName\" = @p10, \"PasswordHash\" = @p11, \"PhoneNumber\" = @p12, \"PhoneNumberConfirmed\" = @p13, \"SecurityStamp\" = @p14, \"TwoFactorEnabled\" = @p15, \"UserName\" = @p16
WHERE \"Id\" = @p17 AND \"ConcurrencyStamp\" = @p18;"
[2020-01-24T11:26:21.0274732+00:00][INFO][4][IdentityServer4.Events.DefaultEventService] UserLoginFailureEvent { Username: "admin", Endpoint: "UI", ClientId: null, Category: "Authentication", Name: "User Login Failure", EventType: Failure, Id: 1001, Message: "invalid credentials", ActivityId: "0HLT0NVEKJD2U:00000005", TimeStamp: 01/24/2020 11:26:21, ProcessId: 1152, LocalIpAddress: "::ffff:172.19.0.4:80", RemoteIpAddress: "::ffff:172.19.0.1" }
[2020-01-24T11:26:21.0311888+00:00][INFO][4][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-01-24T11:26:21.0313555+00:00][DBUG][4][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2020-01-24T11:26:21.0586929+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2020-01-24T11:26:21.1807063+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("31"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:21.1870951+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:21.1903742+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:21.1947241+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:21.2014085+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:21.2090481+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:21.2610628+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:21.2757681+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:21.3044317+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:21.3064139+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2020-01-24T11:26:21.3069759+00:00][DBUG][4][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2020-01-24T11:26:21.3077066+00:00][DBUG][4][IdentityServer4.Validation.AuthorizeRequestValidator] Checking for PKCE parameters
[2020-01-24T11:26:21.3080970+00:00][DBUG][4][IdentityServer4.Validation.AuthorizeRequestValidator] No PKCE used.
[2020-01-24T11:26:21.3127145+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2020-01-24T11:26:21.3150773+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2020-01-24T11:26:21.3191502+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2020-01-24T11:26:21.3197052+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2020-01-24T11:26:21.3225024+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2020-01-24T11:26:21.3241396+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2020-01-24T11:26:21.3294843+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2020-01-24T11:26:21.3302473+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2020-01-24T11:26:21.3309304+00:00][DBUG][4][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2020-01-24T11:26:21.3336854+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2020-01-24T11:26:21.3364702+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:21.3389205+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:21.3410841+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:21.3646594+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:21.3686931+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:21.3728907+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:21.3752893+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:21.3779531+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:21.3828610+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:21.3841819+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2020-01-24T11:26:21.3849903+00:00][DBUG][4][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2020-01-24T11:26:21.3862844+00:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-01-24T11:26:21.3908506+00:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 4.655ms.
[2020-01-24T11:26:21.3914920+00:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)" in 890.7862ms
[2020-01-24T11:26:21.3920652+00:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:26:21.3938010+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 897.5099ms 200 text/html; charset=utf-8
[2020-01-24T11:26:36.2815966+00:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://127.0.0.1.xip.io/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3DMyClientId%26redirect_uri%3Dhttp%253A%252F%252F127.0.0.1.xip.io%253A9000%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520roles%26response_mode%3Dform_post%26nonce%3D637154619721722429.MjYwNjk1ZWQtOGQ2ZS00MDNmLTllZTEtZDAzYzFhZWQyZjFmMzA5YmEyZTQtODk0Yi00ZDIwLWFlMWUtYzIzN2E0NTEzMjVj%26state%3DCfDJ8ALkfCZe03BDjY6uy4mDTrEqd3S5_ctAe8C9X6gR5xbVeqwwxl6h-N0WoOxTcBxJlBu25nC7NgRKJfzwdLEB98xQYtHeJJosgqLVsthFud-3QSgG76Vh8BxBv1vpD-nh7v2o8xNAzo4KFL_wXhqqxiXSiio6YcdhcSe-23plJPuCL4DX6_rcvl-FkEr1ucoOyYjft2fUQNrWIp53jBZfR70N-b5iQxisL2-iVGj-nGal0dcFe6Z7FLc4fU-dbkjh_3wFDYpBU9iMJorcGI6_oUom1QhYUidlJthJIRPaLl1P%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0 application/x-www-form-urlencoded 1032
[2020-01-24T11:26:36.2837829+00:00][DBUG][12][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Account/Login" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2020-01-24T11:26:36.2840004+00:00][INFO][12][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-01-24T11:26:36.2855173+00:00][INFO][12][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-01-24T11:26:36.2856832+00:00][INFO][12][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-01-24T11:26:36.2879807+00:00][INFO][12][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:26:36.2884595+00:00][INFO][12][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ITLab.Identity.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:26:36.2916684+00:00][INFO][12][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-01-24T11:26:36.2919754+00:00][DBUG][12][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2020-01-24T11:26:36.2943392+00:00][INFO][12][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:26:36.2993944+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2020-01-24T11:26:36.3057197+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:36.3083710+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:36.3132857+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:36.3178717+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:36.3199902+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:36.3233375+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:36.3250979+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:36.3290537+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:36.3346454+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:36.3365466+00:00][DBUG][12][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2020-01-24T11:26:36.3371613+00:00][DBUG][12][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2020-01-24T11:26:36.3378468+00:00][DBUG][12][IdentityServer4.Validation.AuthorizeRequestValidator] Checking for PKCE parameters
[2020-01-24T11:26:36.3380192+00:00][DBUG][12][IdentityServer4.Validation.AuthorizeRequestValidator] No PKCE used.
[2020-01-24T11:26:36.3409687+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2020-01-24T11:26:36.3419154+00:00][DBUG][12][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2020-01-24T11:26:36.3485188+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2020-01-24T11:26:36.3758983+00:00][DBUG][7][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2020-01-24T11:26:36.4274466+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("17"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2020-01-24T11:26:36.4290631+00:00][DBUG][7][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2020-01-24T11:26:36.4357480+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2020-01-24T11:26:36.4369338+00:00][DBUG][7][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2020-01-24T11:26:36.4376506+00:00][DBUG][7][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2020-01-24T11:26:36.4388644+00:00][INFO][7][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"DataBaseContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:26:36.4406136+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2020-01-24T11:26:36.4425232+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2020-01-24T11:26:36.4576867+00:00][WARN][7][Microsoft.AspNetCore.Identity.UserManager] Invalid password for user "5b39088d-4ed0-41cf-bfe7-a7ef9d110920".
[2020-01-24T11:26:36.4580593+00:00][WARN][7][Microsoft.AspNetCore.Identity.SignInManager] User "5b39088d-4ed0-41cf-bfe7-a7ef9d110920" failed to provide the correct password.
[2020-01-24T11:26:36.4604983+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2020-01-24T11:26:36.4639611+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedEmail\" = @__normalizedEmail_0
LIMIT 2"
[2020-01-24T11:26:36.4712425+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@p17='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?', @p13='?' (DbType = Boolean), @p14='?', @p15='?' (DbType = Boolean), @p16='?'"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"AspNetUsers\" SET \"AccessFailedCount\" = @p0, \"ConcurrencyStamp\" = @p1, \"Email\" = @p2, \"EmailConfirmed\" = @p3, \"FirstName\" = @p4, \"LastName\" = @p5, \"LockoutEnabled\" = @p6, \"LockoutEnd\" = @p7, \"MiddleName\" = @p8, \"NormalizedEmail\" = @p9, \"NormalizedUserName\" = @p10, \"PasswordHash\" = @p11, \"PhoneNumber\" = @p12, \"PhoneNumberConfirmed\" = @p13, \"SecurityStamp\" = @p14, \"TwoFactorEnabled\" = @p15, \"UserName\" = @p16
WHERE \"Id\" = @p17 AND \"ConcurrencyStamp\" = @p18;"
[2020-01-24T11:26:36.5103669+00:00][INFO][7][IdentityServer4.Events.DefaultEventService] UserLoginFailureEvent { Username: "admin", Endpoint: "UI", ClientId: null, Category: "Authentication", Name: "User Login Failure", EventType: Failure, Id: 1001, Message: "invalid credentials", ActivityId: "0HLT0NVEKJD2U:00000006", TimeStamp: 01/24/2020 11:26:36, ProcessId: 1152, LocalIpAddress: "::ffff:172.19.0.4:80", RemoteIpAddress: "::ffff:172.19.0.1" }
[2020-01-24T11:26:36.5139944+00:00][INFO][7][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-01-24T11:26:36.5158316+00:00][DBUG][7][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2020-01-24T11:26:36.5246293+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2020-01-24T11:26:36.5282016+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:36.5323175+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:36.5339650+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:36.5370194+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:36.5389278+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:36.5419051+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:36.5463020+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:36.5505003+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:36.6011171+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("18"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:36.6036574+00:00][DBUG][12][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2020-01-24T11:26:36.6045052+00:00][DBUG][12][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2020-01-24T11:26:36.6061522+00:00][DBUG][12][IdentityServer4.Validation.AuthorizeRequestValidator] Checking for PKCE parameters
[2020-01-24T11:26:36.6068731+00:00][DBUG][12][IdentityServer4.Validation.AuthorizeRequestValidator] No PKCE used.
[2020-01-24T11:26:36.6350191+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2020-01-24T11:26:36.6413060+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2020-01-24T11:26:36.6510761+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2020-01-24T11:26:36.6534830+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2020-01-24T11:26:36.7129807+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("32"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2020-01-24T11:26:36.7331101+00:00][DBUG][7][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2020-01-24T11:26:36.7497957+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("13"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2020-01-24T11:26:36.7536143+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2020-01-24T11:26:36.7550293+00:00][DBUG][5][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2020-01-24T11:26:36.7620054+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2020-01-24T11:26:36.7710831+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:36.7735038+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:36.7769937+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:36.8164467+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("37"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:36.8198946+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:36.8235975+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:36.8515835+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("26"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:36.8655414+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:36.8778320+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:26:36.8797028+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2020-01-24T11:26:36.8801197+00:00][DBUG][4][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2020-01-24T11:26:36.8811874+00:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-01-24T11:26:36.8849219+00:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 3.8826ms.
[2020-01-24T11:26:36.8852596+00:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)" in 596.3612ms
[2020-01-24T11:26:36.8855941+00:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:26:36.8878472+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 606.0351ms 200 text/html; charset=utf-8
[2020-01-24T11:27:47.2055823+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://127.0.0.1.xip.io/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3DMyClientId%26redirect_uri%3Dhttp%253A%252F%252F127.0.0.1.xip.io%253A9000%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520roles%26response_mode%3Dform_post%26nonce%3D637154619721722429.MjYwNjk1ZWQtOGQ2ZS00MDNmLTllZTEtZDAzYzFhZWQyZjFmMzA5YmEyZTQtODk0Yi00ZDIwLWFlMWUtYzIzN2E0NTEzMjVj%26state%3DCfDJ8ALkfCZe03BDjY6uy4mDTrEqd3S5_ctAe8C9X6gR5xbVeqwwxl6h-N0WoOxTcBxJlBu25nC7NgRKJfzwdLEB98xQYtHeJJosgqLVsthFud-3QSgG76Vh8BxBv1vpD-nh7v2o8xNAzo4KFL_wXhqqxiXSiio6YcdhcSe-23plJPuCL4DX6_rcvl-FkEr1ucoOyYjft2fUQNrWIp53jBZfR70N-b5iQxisL2-iVGj-nGal0dcFe6Z7FLc4fU-dbkjh_3wFDYpBU9iMJorcGI6_oUom1QhYUidlJthJIRPaLl1P%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0 application/x-www-form-urlencoded 1035
[2020-01-24T11:27:47.2065292+00:00][DBUG][13][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Account/Login" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2020-01-24T11:27:47.2067379+00:00][INFO][13][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-01-24T11:27:47.2072738+00:00][INFO][13][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-01-24T11:27:47.2073721+00:00][INFO][13][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-01-24T11:27:47.2078751+00:00][INFO][13][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:27:47.2082276+00:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ITLab.Identity.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:27:51.9557618+00:00][INFO][13][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-01-24T11:27:51.9560166+00:00][DBUG][13][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2020-01-24T11:27:51.9581158+00:00][INFO][13][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:27:52.0176618+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2020-01-24T11:27:52.0570954+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:27:52.0633531+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:27:52.0959852+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("30"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:27:52.1681994+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("68"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:27:52.1778312+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:27:52.1874302+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:27:52.1895732+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:27:52.1935956+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:27:52.1981024+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:27:52.1988547+00:00][DBUG][13][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2020-01-24T11:27:52.1993943+00:00][DBUG][13][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2020-01-24T11:27:52.1998823+00:00][DBUG][13][IdentityServer4.Validation.AuthorizeRequestValidator] Checking for PKCE parameters
[2020-01-24T11:27:52.2000808+00:00][DBUG][13][IdentityServer4.Validation.AuthorizeRequestValidator] No PKCE used.
[2020-01-24T11:27:52.2081960+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2020-01-24T11:27:52.2115303+00:00][DBUG][26][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2020-01-24T11:27:52.2174479+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2020-01-24T11:27:52.2180977+00:00][DBUG][26][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2020-01-24T11:27:52.2708016+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("28"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2020-01-24T11:27:52.2811379+00:00][DBUG][13][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2020-01-24T11:27:52.2909206+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2020-01-24T11:27:52.2941032+00:00][DBUG][13][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2020-01-24T11:27:52.2945547+00:00][DBUG][13][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2020-01-24T11:27:57.2748131+00:00][INFO][13][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"DataBaseContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:27:57.2791369+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2020-01-24T11:28:11.0434001+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2020-01-24T11:28:11.0550443+00:00][WARN][13][Microsoft.AspNetCore.Identity.UserManager] Invalid password for user "5b39088d-4ed0-41cf-bfe7-a7ef9d110920".
[2020-01-24T11:28:11.0555153+00:00][WARN][13][Microsoft.AspNetCore.Identity.SignInManager] User "5b39088d-4ed0-41cf-bfe7-a7ef9d110920" failed to provide the correct password.
[2020-01-24T11:28:11.0824412+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2020-01-24T11:28:11.0912638+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__normalizedEmail_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedEmail\" = @__normalizedEmail_0
LIMIT 2"
[2020-01-24T11:28:11.1444887+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@p17='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?', @p13='?' (DbType = Boolean), @p14='?', @p15='?' (DbType = Boolean), @p16='?'"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"AspNetUsers\" SET \"AccessFailedCount\" = @p0, \"ConcurrencyStamp\" = @p1, \"Email\" = @p2, \"EmailConfirmed\" = @p3, \"FirstName\" = @p4, \"LastName\" = @p5, \"LockoutEnabled\" = @p6, \"LockoutEnd\" = @p7, \"MiddleName\" = @p8, \"NormalizedEmail\" = @p9, \"NormalizedUserName\" = @p10, \"PasswordHash\" = @p11, \"PhoneNumber\" = @p12, \"PhoneNumberConfirmed\" = @p13, \"SecurityStamp\" = @p14, \"TwoFactorEnabled\" = @p15, \"UserName\" = @p16
WHERE \"Id\" = @p17 AND \"ConcurrencyStamp\" = @p18;"
[2020-01-24T11:28:25.7728071+00:00][INFO][26][IdentityServer4.Events.DefaultEventService] UserLoginFailureEvent { Username: "admin", Endpoint: "UI", ClientId: null, Category: "Authentication", Name: "User Login Failure", EventType: Failure, Id: 1001, Message: "invalid credentials", ActivityId: "0HLT0NVEKJD2U:00000007", TimeStamp: 01/24/2020 11:28:25, ProcessId: 1152, LocalIpAddress: "::ffff:172.19.0.4:80", RemoteIpAddress: "::ffff:172.19.0.1" }
[2020-01-24T11:28:32.3632630+00:00][INFO][26][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-01-24T11:28:32.3635236+00:00][DBUG][26][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2020-01-24T11:28:32.3861335+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2020-01-24T11:28:32.3915675+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:32.3953718+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:32.3977702+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:32.4737035+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:32.4908090+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:32.5675178+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("46"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:32.5804014+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:32.6057432+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("18"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:32.6186208+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:32.6197365+00:00][DBUG][26][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2020-01-24T11:28:32.6204616+00:00][DBUG][26][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2020-01-24T11:28:32.6220687+00:00][DBUG][26][IdentityServer4.Validation.AuthorizeRequestValidator] Checking for PKCE parameters
[2020-01-24T11:28:32.6227351+00:00][DBUG][26][IdentityServer4.Validation.AuthorizeRequestValidator] No PKCE used.
[2020-01-24T11:28:32.6280898+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2020-01-24T11:28:32.6289542+00:00][DBUG][26][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2020-01-24T11:28:32.6353766+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2020-01-24T11:28:32.6393589+00:00][DBUG][25][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2020-01-24T11:28:32.6656711+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2020-01-24T11:28:32.6696117+00:00][DBUG][28][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2020-01-24T11:28:32.6729651+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2020-01-24T11:28:32.6733051+00:00][DBUG][25][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2020-01-24T11:28:32.6738223+00:00][DBUG][25][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2020-01-24T11:28:34.5137055+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2020-01-24T11:28:34.5193489+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:34.5641976+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:34.5673097+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:34.5694330+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:34.5751487+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:34.5823543+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:34.5887405+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:34.5927293+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:34.5953551+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:34.5968449+00:00][DBUG][25][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2020-01-24T11:28:34.5978620+00:00][DBUG][25][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2020-01-24T11:28:34.6024973+00:00][INFO][25][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-01-24T11:28:34.6052581+00:00][INFO][25][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 2.8185ms.
[2020-01-24T11:28:34.6056150+00:00][INFO][25][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)" in 47397.1185ms
[2020-01-24T11:28:34.6064114+00:00][INFO][25][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:28:34.6069147+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 47401.3592ms 200 text/html; charset=utf-8
[2020-01-24T11:28:40.6326099+00:00][INFO][28][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/  
[2020-01-24T11:28:40.6339868+00:00][INFO][28][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:28:40.6345421+00:00][INFO][28][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:28:40.6377722+00:00][INFO][28][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T11:28:40.6430607+00:00][INFO][28][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:28:40.6466095+00:00][INFO][28][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 7.5913ms.
[2020-01-24T11:28:40.6472096+00:00][INFO][28][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 12.3269ms
[2020-01-24T11:28:40.6477328+00:00][INFO][28][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:28:40.6480525+00:00][INFO][28][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 15.4679ms 200 text/html; charset=utf-8
[2020-01-24T11:28:41.1516198+00:00][INFO][28][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/favicon.ico  
[2020-01-24T11:28:41.1608755+00:00][INFO][26][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/favicon.ico"'. Physical path: '"/app/wwwroot/favicon.ico"'
[2020-01-24T11:28:41.1656958+00:00][INFO][27][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 14.0701ms 200 image/x-icon
[2020-01-24T11:28:43.4588728+00:00][INFO][24][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost/  
[2020-01-24T11:28:43.4606096+00:00][INFO][24][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:28:43.4611121+00:00][INFO][24][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:28:43.4627133+00:00][INFO][24][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T11:28:43.4678144+00:00][INFO][24][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:28:43.4695255+00:00][INFO][24][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 6.8884ms.
[2020-01-24T11:28:43.4705414+00:00][INFO][24][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 8.9852ms
[2020-01-24T11:28:43.4708115+00:00][INFO][24][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:28:43.4724409+00:00][INFO][24][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 13.5771ms 200 text/html; charset=utf-8
[2020-01-24T11:28:43.5175110+00:00][INFO][24][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost/dist/css/bundle.min.css?v=oT_78HNbw1icHDGc5AceMykUYmOGOJKGRMVmkJ7XyTk  
[2020-01-24T11:28:43.5176855+00:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost/dist/css/web.css?v=xyATVK1qJOMwc5iqad_yMVmZ1bPSh2NrIU-LFUH1QnQ  
[2020-01-24T11:28:43.5287332+00:00][INFO][23][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/web.css"'. Physical path: '"/app/wwwroot/dist/css/web.css"'
[2020-01-24T11:28:43.5314571+00:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 13.7104ms 200 text/css
[2020-01-24T11:28:43.5608091+00:00][INFO][24][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost/images/skoruba-icon.png  
[2020-01-24T11:28:43.6055528+00:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost/dist/js/bundle.min.js?v=gx980t9VMyQmp-CYZN_SNKOVwaBwsiIO8EaS2b0oj1I  
[2020-01-24T11:28:43.6631303+00:00][INFO][24][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/images/skoruba-icon.png"'. Physical path: '"/app/wwwroot/images/skoruba-icon.png"'
[2020-01-24T11:28:43.6645607+00:00][INFO][24][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 103.7273ms 200 image/png
[2020-01-24T11:28:43.7183809+00:00][INFO][24][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/bundle.min.css"'. Physical path: '"/app/wwwroot/dist/css/bundle.min.css"'
[2020-01-24T11:28:43.7260610+00:00][INFO][24][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 208.2366ms 200 text/css
[2020-01-24T11:28:43.7376159+00:00][INFO][23][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/js/bundle.min.js"'. Physical path: '"/app/wwwroot/dist/js/bundle.min.js"'
[2020-01-24T11:28:43.7378223+00:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 153.8078ms 200 application/javascript
[2020-01-24T11:28:43.8544435+00:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost/dist/fonts/open-iconic.woff  
[2020-01-24T11:28:43.9074723+00:00][INFO][24][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/open-iconic.woff"'. Physical path: '"/app/wwwroot/dist/fonts/open-iconic.woff"'
[2020-01-24T11:28:43.9304384+00:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 75.7226ms 200 application/font-woff
[2020-01-24T11:28:43.9756532+00:00][INFO][24][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost/favicon.ico  
[2020-01-24T11:28:43.9819321+00:00][INFO][21][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/favicon.ico"'. Physical path: '"/app/wwwroot/favicon.ico"'
[2020-01-24T11:28:43.9827902+00:00][INFO][21][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 7.0601ms 200 image/x-icon
[2020-01-24T11:28:47.1331107+00:00][INFO][21][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/connect/authorize?client_id=MyClientId&redirect_uri=http%3A%2F%2F127.0.0.1.xip.io%3A9000%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20email%20roles&response_mode=form_post&nonce=637154621271128868.M2UxZTUyOTAtZDEzMy00NmU2LWFhMTItYzY1M2ZhNDM1Yzg0NmUxMDhhMDYtNTFiMC00NTJkLWJiNGUtOTNkMWZhN2I3YzM1&state=CfDJ8ALkfCZe03BDjY6uy4mDTrESyFMawiRqxTD84VO32djNAan2zSB6OZddeLWjsevjRNUeSamhharv2ii0XJgwNlKNyJ37Rx4VWlLj2Ovd6WNTfwAFbs00qCQe1AYsdJTeqrkraiSXvHHmAGX05IENia-kmzFLtyL69AGoxer8BKVrLW4o7g5BH1zSduKbdcpXNSqrfCkiFjwoumH3m5prxkgYf1IMmRV1G-jdD4xtfPnf2avcUUgmebYR8-caNd3q3s6cQ3K4oFLHE1zxXeyu-N2RpvWO22vyiLCR3JruWpiG&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
[2020-01-24T11:28:47.1339029+00:00][INFO][21][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-01-24T11:28:47.1339761+00:00][INFO][21][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-01-24T11:28:47.1345746+00:00][DBUG][21][IdentityServer4.Hosting.EndpointRouter] Request path "/connect/authorize" matched to endpoint type "Authorize"
[2020-01-24T11:28:47.1356016+00:00][DBUG][21][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Authorize", successfully created handler: "IdentityServer4.Endpoints.AuthorizeEndpoint"
[2020-01-24T11:28:47.1356848+00:00][INFO][21][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-01-24T11:28:47.1362287+00:00][DBUG][21][IdentityServer4.Endpoints.AuthorizeEndpoint] Start authorize request
[2020-01-24T11:28:47.1366677+00:00][INFO][21][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-01-24T11:28:47.1367329+00:00][DBUG][21][IdentityServer4.Endpoints.AuthorizeEndpoint] No user present in authorize request
[2020-01-24T11:28:47.1369671+00:00][DBUG][21][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2020-01-24T11:28:47.1383231+00:00][INFO][21][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:28:47.1402630+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2020-01-24T11:28:47.1451951+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:47.1478767+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:47.1514716+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:47.1541551+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:47.1558607+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:47.1610482+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:47.1631755+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:47.1664428+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:47.3196762+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:47.3204582+00:00][DBUG][23][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2020-01-24T11:28:47.3208073+00:00][DBUG][23][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2020-01-24T11:28:47.3212791+00:00][DBUG][23][IdentityServer4.Validation.AuthorizeRequestValidator] Checking for PKCE parameters
[2020-01-24T11:28:47.3214754+00:00][DBUG][23][IdentityServer4.Validation.AuthorizeRequestValidator] No PKCE used.
[2020-01-24T11:28:47.3247432+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2020-01-24T11:28:47.3251526+00:00][DBUG][23][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2020-01-24T11:28:47.3344230+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2020-01-24T11:28:47.3380720+00:00][DBUG][24][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2020-01-24T11:28:47.3698596+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2020-01-24T11:28:47.3933549+00:00][DBUG][23][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2020-01-24T11:28:47.4413625+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2020-01-24T11:28:47.4435119+00:00][DBUG][23][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2020-01-24T11:28:47.4442268+00:00][DBUG][23][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2020-01-24T11:28:47.4474692+00:00][DBUG][23][IdentityServer4.Endpoints.AuthorizeEndpoint] ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "MyClientId", ClientName: "MyClientId", RedirectUri: "http://127.0.0.1.xip.io:9000/signin-oidc", AllowedRedirectUris: ["http://127.0.0.1.xip.io:9000/signin-oidc"], SubjectId: "anonymous", ResponseType: "code id_token", ResponseMode: "form_post", GrantType: "hybrid", RequestedScopes: "openid profile email roles", State: "CfDJ8ALkfCZe03BDjY6uy4mDTrESyFMawiRqxTD84VO32djNAan2zSB6OZddeLWjsevjRNUeSamhharv2ii0XJgwNlKNyJ37Rx4VWlLj2Ovd6WNTfwAFbs00qCQe1AYsdJTeqrkraiSXvHHmAGX05IENia-kmzFLtyL69AGoxer8BKVrLW4o7g5BH1zSduKbdcpXNSqrfCkiFjwoumH3m5prxkgYf1IMmRV1G-jdD4xtfPnf2avcUUgmebYR8-caNd3q3s6cQ3K4oFLHE1zxXeyu-N2RpvWO22vyiLCR3JruWpiG", UiLocales: null, Nonce: "637154621271128868.M2UxZTUyOTAtZDEzMy00NmU2LWFhMTItYzY1M2ZhNDM1Yzg0NmUxMDhhMDYtNTFiMC00NTJkLWJiNGUtOTNkMWZhN2I3YzM1", AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: null, MaxAge: null, LoginHint: null, SessionId: "", Raw: [("client_id": "MyClientId"), ("redirect_uri": "http://127.0.0.1.xip.io:9000/signin-oidc"), ("response_type": "code id_token"), ("scope": "openid profile email roles"), ("response_mode": "form_post"), ("nonce": "637154621271128868.M2UxZTUyOTAtZDEzMy00NmU2LWFhMTItYzY1M2ZhNDM1Yzg0NmUxMDhhMDYtNTFiMC00NTJkLWJiNGUtOTNkMWZhN2I3YzM1"), ("state": "CfDJ8ALkfCZe03BDjY6uy4mDTrESyFMawiRqxTD84VO32djNAan2zSB6OZddeLWjsevjRNUeSamhharv2ii0XJgwNlKNyJ37Rx4VWlLj2Ovd6WNTfwAFbs00qCQe1AYsdJTeqrkraiSXvHHmAGX05IENia-kmzFLtyL69AGoxer8BKVrLW4o7g5BH1zSduKbdcpXNSqrfCkiFjwoumH3m5prxkgYf1IMmRV1G-jdD4xtfPnf2avcUUgmebYR8-caNd3q3s6cQ3K4oFLHE1zxXeyu-N2RpvWO22vyiLCR3JruWpiG"), ("x-client-SKU": "ID_NETSTANDARD2_0"), ("x-client-ver": "5.5.0.0")] }
[2020-01-24T11:28:47.4476198+00:00][INFO][23][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] Showing login: User is not authenticated
[2020-01-24T11:28:47.4482564+00:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 315.1708ms 302 
[2020-01-24T11:28:47.4651467+00:00][INFO][24][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3DMyClientId%26redirect_uri%3Dhttp%253A%252F%252F127.0.0.1.xip.io%253A9000%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520roles%26response_mode%3Dform_post%26nonce%3D637154621271128868.M2UxZTUyOTAtZDEzMy00NmU2LWFhMTItYzY1M2ZhNDM1Yzg0NmUxMDhhMDYtNTFiMC00NTJkLWJiNGUtOTNkMWZhN2I3YzM1%26state%3DCfDJ8ALkfCZe03BDjY6uy4mDTrESyFMawiRqxTD84VO32djNAan2zSB6OZddeLWjsevjRNUeSamhharv2ii0XJgwNlKNyJ37Rx4VWlLj2Ovd6WNTfwAFbs00qCQe1AYsdJTeqrkraiSXvHHmAGX05IENia-kmzFLtyL69AGoxer8BKVrLW4o7g5BH1zSduKbdcpXNSqrfCkiFjwoumH3m5prxkgYf1IMmRV1G-jdD4xtfPnf2avcUUgmebYR8-caNd3q3s6cQ3K4oFLHE1zxXeyu-N2RpvWO22vyiLCR3JruWpiG%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0  
[2020-01-24T11:28:47.4658498+00:00][INFO][24][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-01-24T11:28:47.4661190+00:00][INFO][24][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-01-24T11:28:47.4667652+00:00][INFO][24][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:28:47.4682481+00:00][INFO][24][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:28:47.4702395+00:00][INFO][24][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-01-24T11:28:47.4705220+00:00][DBUG][24][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2020-01-24T11:28:47.4716373+00:00][INFO][24][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:28:47.4736490+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2020-01-24T11:28:47.4763787+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:47.4789713+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:47.4812986+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:47.4982533+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:47.5001068+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:47.5025907+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:47.5053274+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:47.5074344+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:47.5103559+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:47.5144121+00:00][DBUG][24][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2020-01-24T11:28:47.5150496+00:00][DBUG][24][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2020-01-24T11:28:47.5155510+00:00][DBUG][24][IdentityServer4.Validation.AuthorizeRequestValidator] Checking for PKCE parameters
[2020-01-24T11:28:47.5161806+00:00][DBUG][24][IdentityServer4.Validation.AuthorizeRequestValidator] No PKCE used.
[2020-01-24T11:28:47.5218749+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2020-01-24T11:28:47.5256061+00:00][DBUG][25][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2020-01-24T11:28:47.5325640+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2020-01-24T11:28:47.5778004+00:00][DBUG][25][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2020-01-24T11:28:47.5830539+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2020-01-24T11:28:47.5882951+00:00][DBUG][25][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2020-01-24T11:28:47.5949682+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2020-01-24T11:28:47.5958254+00:00][DBUG][25][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2020-01-24T11:28:47.5964125+00:00][DBUG][25][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2020-01-24T11:28:47.5989360+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2020-01-24T11:28:47.6328387+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:47.6370219+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:47.6474241+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:47.6577827+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:47.7271244+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("26"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:47.7555191+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:47.7831871+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:47.7898200+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:47.8170178+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:28:47.8194721+00:00][DBUG][24][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2020-01-24T11:28:47.8196696+00:00][DBUG][24][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2020-01-24T11:28:47.8201995+00:00][INFO][24][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-01-24T11:28:47.8234318+00:00][INFO][24][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 3.2517ms.
[2020-01-24T11:28:47.8236477+00:00][INFO][24][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)" in 354.7751ms
[2020-01-24T11:28:47.8237466+00:00][INFO][24][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:28:47.8238868+00:00][INFO][24][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 358.8927ms 200 text/html; charset=utf-8
[2020-01-24T11:28:56.0194745+00:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/  
[2020-01-24T11:28:56.0203390+00:00][INFO][23][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-01-24T11:28:56.0205031+00:00][INFO][23][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-01-24T11:28:56.0207603+00:00][INFO][23][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:28:56.0215716+00:00][INFO][23][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:28:56.0230355+00:00][INFO][23][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T11:28:56.0259852+00:00][INFO][23][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 3.0103ms.
[2020-01-24T11:28:56.0263921+00:00][INFO][23][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 4.1353ms
[2020-01-24T11:28:56.0266551+00:00][INFO][23][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:28:56.0278680+00:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 7.6832ms 200 text/html; charset=utf-8
[2020-01-24T11:28:56.0679691+00:00][INFO][21][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/images/skoruba-icon.png  
[2020-01-24T11:28:56.0757296+00:00][INFO][23][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/images/skoruba-icon.png"'. Physical path: '"/app/wwwroot/images/skoruba-icon.png"'
[2020-01-24T11:28:56.0973985+00:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 29.4364ms 200 image/png
[2020-01-24T11:28:57.8789172+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/Account/Login  
[2020-01-24T11:28:57.8799609+00:00][INFO][25][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-01-24T11:28:57.8801355+00:00][INFO][25][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-01-24T11:28:57.8811503+00:00][INFO][25][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:28:57.8820527+00:00][INFO][25][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:28:57.8834981+00:00][INFO][25][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-01-24T11:28:57.8906583+00:00][INFO][25][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 7.0104ms.
[2020-01-24T11:28:57.8937940+00:00][INFO][25][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)" in 11.4099ms
[2020-01-24T11:28:57.8943842+00:00][INFO][25][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:28:57.8950055+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 16.0456ms 200 text/html; charset=utf-8
[2020-01-24T11:29:00.2079177+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://127.0.0.1.xip.io/Account/Login application/x-www-form-urlencoded 266
[2020-01-24T11:29:00.2081765+00:00][DBUG][22][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Account/Login" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2020-01-24T11:29:00.2082820+00:00][INFO][22][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-01-24T11:29:00.2087043+00:00][INFO][22][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-01-24T11:29:00.2088000+00:00][INFO][22][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-01-24T11:29:00.2093226+00:00][INFO][22][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:29:00.2097737+00:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ITLab.Identity.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:29:02.3171585+00:00][INFO][22][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"DataBaseContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:29:02.3845141+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2020-01-24T11:29:02.3870418+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2020-01-24T11:29:02.4008253+00:00][WARN][22][Microsoft.AspNetCore.Identity.UserManager] Invalid password for user "5b39088d-4ed0-41cf-bfe7-a7ef9d110920".
[2020-01-24T11:29:02.4012174+00:00][WARN][22][Microsoft.AspNetCore.Identity.SignInManager] User "5b39088d-4ed0-41cf-bfe7-a7ef9d110920" failed to provide the correct password.
[2020-01-24T11:29:02.4064510+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2020-01-24T11:29:02.4098564+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__normalizedEmail_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedEmail\" = @__normalizedEmail_0
LIMIT 2"
[2020-01-24T11:29:02.4156980+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@p17='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?', @p13='?' (DbType = Boolean), @p14='?', @p15='?' (DbType = Boolean), @p16='?'"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"AspNetUsers\" SET \"AccessFailedCount\" = @p0, \"ConcurrencyStamp\" = @p1, \"Email\" = @p2, \"EmailConfirmed\" = @p3, \"FirstName\" = @p4, \"LastName\" = @p5, \"LockoutEnabled\" = @p6, \"LockoutEnd\" = @p7, \"MiddleName\" = @p8, \"NormalizedEmail\" = @p9, \"NormalizedUserName\" = @p10, \"PasswordHash\" = @p11, \"PhoneNumber\" = @p12, \"PhoneNumberConfirmed\" = @p13, \"SecurityStamp\" = @p14, \"TwoFactorEnabled\" = @p15, \"UserName\" = @p16
WHERE \"Id\" = @p17 AND \"ConcurrencyStamp\" = @p18;"
[2020-01-24T11:29:02.4201306+00:00][INFO][22][IdentityServer4.Events.DefaultEventService] UserLoginFailureEvent { Username: "admin", Endpoint: "UI", ClientId: null, Category: "Authentication", Name: "User Login Failure", EventType: Failure, Id: 1001, Message: "invalid credentials", ActivityId: "0HLT0NVEKJD2U:0000000D", TimeStamp: 01/24/2020 11:29:02, ProcessId: 1152, LocalIpAddress: "::ffff:172.19.0.4:80", RemoteIpAddress: "::ffff:172.19.0.1" }
[2020-01-24T11:29:02.4207312+00:00][INFO][22][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-01-24T11:29:02.4236330+00:00][INFO][22][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 2.9235ms.
[2020-01-24T11:29:02.4254329+00:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)" in 2215.3175ms
[2020-01-24T11:29:02.4264831+00:00][INFO][22][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:29:02.4293171+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 2221.3213ms 200 text/html; charset=utf-8
[2020-01-24T11:29:13.6347775+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:32775/  
[2020-01-24T11:29:13.6382438+00:00][INFO][25][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:29:13.6400477+00:00][INFO][25][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:29:13.6436757+00:00][INFO][25][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T11:29:13.6465353+00:00][INFO][25][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:29:13.6487853+00:00][INFO][25][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 5.1412ms.
[2020-01-24T11:29:13.6492341+00:00][INFO][25][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 7.576ms
[2020-01-24T11:29:13.6495379+00:00][INFO][25][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:29:13.6502305+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 15.5326ms 200 text/html; charset=utf-8
[2020-01-24T11:29:26.2268230+00:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost/  
[2020-01-24T11:29:26.2282310+00:00][INFO][23][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:29:26.2285846+00:00][INFO][23][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:29:26.2289801+00:00][INFO][23][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T11:29:26.2314725+00:00][INFO][23][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:29:26.2349254+00:00][INFO][23][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 5.8822ms.
[2020-01-24T11:29:26.2355315+00:00][INFO][23][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 6.7813ms
[2020-01-24T11:29:26.2358933+00:00][INFO][23][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:29:26.2362090+00:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 9.3573ms 200 text/html; charset=utf-8
[2020-01-24T11:29:53.7627779+00:00][INFO][24][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/  
[2020-01-24T11:29:53.7633294+00:00][INFO][24][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-01-24T11:29:53.7634347+00:00][INFO][24][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-01-24T11:29:53.7648103+00:00][INFO][24][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:29:53.7653951+00:00][INFO][24][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:29:53.7668176+00:00][INFO][24][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T11:29:53.7713067+00:00][INFO][24][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 4.3692ms.
[2020-01-24T11:29:53.7719192+00:00][INFO][24][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 5.9381ms
[2020-01-24T11:29:53.7724921+00:00][INFO][24][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:29:53.7733318+00:00][INFO][24][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 10.4201ms 200 text/html; charset=utf-8
[2020-01-24T11:29:56.1406371+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/Account/Login  
[2020-01-24T11:29:56.1412198+00:00][INFO][25][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-01-24T11:29:56.1413222+00:00][INFO][25][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-01-24T11:29:56.1417137+00:00][INFO][25][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:29:56.1419334+00:00][INFO][25][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:29:56.1432342+00:00][INFO][25][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-01-24T11:29:56.1461270+00:00][INFO][25][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 2.8928ms.
[2020-01-24T11:29:56.1474429+00:00][INFO][25][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)" in 5.037ms
[2020-01-24T11:29:56.1490038+00:00][INFO][25][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:29:56.1492444+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 8.6112ms 200 text/html; charset=utf-8
[2020-01-24T11:30:06.2073612+00:00][INFO][21][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://127.0.0.1.xip.io/Account/Login application/x-www-form-urlencoded 266
[2020-01-24T11:30:06.2075251+00:00][DBUG][21][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Account/Login" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2020-01-24T11:30:06.2086508+00:00][INFO][21][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-01-24T11:30:06.2091205+00:00][INFO][21][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-01-24T11:30:06.2092485+00:00][INFO][21][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-01-24T11:30:06.2095450+00:00][INFO][21][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:30:06.2097075+00:00][INFO][21][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ITLab.Identity.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:30:12.2922300+00:00][INFO][21][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"DataBaseContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:30:12.4029069+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2020-01-24T11:30:12.4133800+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2020-01-24T11:30:12.4340714+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"ClaimType\", a.\"ClaimValue\", a.\"UserId\"
FROM \"AspNetUserClaims\" AS a
WHERE a.\"UserId\" = @__user_Id_0"
[2020-01-24T11:30:12.4388011+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a0.\"Name\"
FROM \"AspNetUserRoles\" AS a
INNER JOIN \"AspNetRoles\" AS a0 ON a.\"RoleId\" = a0.\"Id\"
WHERE a.\"UserId\" = @__userId_0"
[2020-01-24T11:30:12.4392801+00:00][DBUG][22][IdentityServer4.Hosting.IdentityServerAuthenticationService] Augmenting SignInContext
[2020-01-24T11:30:12.4394394+00:00][DBUG][22][IdentityServer4.Hosting.IdentityServerAuthenticationService] Adding idp claim with value: "local"
[2020-01-24T11:30:12.4397002+00:00][DBUG][22][IdentityServer4.Hosting.IdentityServerAuthenticationService] Adding auth_time claim with value: "1579865412"
[2020-01-24T11:30:12.4411373+00:00][INFO][22][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-01-24T11:30:12.4425589+00:00][INFO][22][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2020-01-24T11:30:12.4432276+00:00][INFO][22][IdentityServer4.Events.DefaultEventService] UserLoginSuccessEvent { Username: "user", Provider: null, ProviderUserId: null, SubjectId: "c59ff716-0eb4-400a-901f-6e438941c581", DisplayName: "user", Endpoint: "UI", ClientId: null, Category: "Authentication", Name: "User Login Success", EventType: Success, Id: 1000, Message: null, ActivityId: "0HLT0NVEKJD2U:00000010", TimeStamp: 01/24/2020 11:30:12, ProcessId: 1152, LocalIpAddress: "::ffff:172.19.0.4:80", RemoteIpAddress: "::ffff:172.19.0.1" }
[2020-01-24T11:30:12.4441482+00:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor] Executing RedirectResult, redirecting to "/".
[2020-01-24T11:30:12.4451507+00:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)" in 6235.2799ms
[2020-01-24T11:30:12.4457395+00:00][INFO][22][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:30:12.4467126+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 6239.3365ms 302 
[2020-01-24T11:30:12.4621418+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/  
[2020-01-24T11:30:12.4634370+00:00][INFO][22][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:30:12.4640441+00:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:30:12.4648203+00:00][INFO][22][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T11:30:12.4666196+00:00][INFO][22][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization failed.
[2020-01-24T11:30:12.4683035+00:00][INFO][22][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 3.5614ms.
[2020-01-24T11:30:12.4689051+00:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 4.4376ms
[2020-01-24T11:30:12.4692224+00:00][INFO][22][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:30:12.4701351+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 7.9956ms 200 text/html; charset=utf-8
[2020-01-24T11:30:19.0490526+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/Account/Logout  
[2020-01-24T11:30:19.0516790+00:00][INFO][22][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:30:19.0520476+00:00][INFO][22][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Logout (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:30:19.0561470+00:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Logout\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout(System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:30:19.0578231+00:00][INFO][22][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Logout".
[2020-01-24T11:30:19.0615250+00:00][INFO][22][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization failed.
[2020-01-24T11:30:19.0647183+00:00][INFO][22][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Logout" executed in 6.9442ms.
[2020-01-24T11:30:19.0708087+00:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Logout (ITLab.Identity.STS.Identity)" in 9.0924ms
[2020-01-24T11:30:19.0714540+00:00][INFO][22][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Logout (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:30:19.0722765+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 23.1033ms 200 text/html; charset=utf-8
[2020-01-24T11:30:21.0056722+00:00][INFO][21][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://127.0.0.1.xip.io/Account/Logout application/x-www-form-urlencoded 235
[2020-01-24T11:30:21.0058569+00:00][DBUG][21][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Account/Logout" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2020-01-24T11:30:21.0059015+00:00][INFO][21][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-01-24T11:30:21.0065045+00:00][INFO][21][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:30:21.0066534+00:00][INFO][21][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Logout (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:30:21.0067969+00:00][INFO][21][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Logout\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout(ITLab.Identity.STS.Identity.ViewModels.Account.LogoutInputModel)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:30:21.0079966+00:00][INFO][21][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed out.
[2020-01-24T11:30:21.0082608+00:00][INFO][21][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.External" signed out.
[2020-01-24T11:30:21.0084848+00:00][INFO][21][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.TwoFactorUserId" signed out.
[2020-01-24T11:30:21.0087126+00:00][INFO][21][IdentityServer4.Events.DefaultEventService] UserLogoutSuccessEvent { SubjectId: "c59ff716-0eb4-400a-901f-6e438941c581", DisplayName: "user", Category: "Authentication", Name: "User Logout Success", EventType: Success, Id: 1002, Message: null, ActivityId: "0HLT0NVEKJD2U:00000013", TimeStamp: 01/24/2020 11:30:21, ProcessId: 1152, LocalIpAddress: "::ffff:172.19.0.4:80", RemoteIpAddress: "::ffff:172.19.0.1" }
[2020-01-24T11:30:21.0089002+00:00][INFO][21][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "LoggedOut".
[2020-01-24T11:30:21.0160860+00:00][INFO][21][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "LoggedOut" executed in 6.9584ms.
[2020-01-24T11:30:21.0164310+00:00][INFO][21][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Logout (ITLab.Identity.STS.Identity)" in 9.4953ms
[2020-01-24T11:30:21.0165818+00:00][INFO][21][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Logout (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:30:21.0169731+00:00][INFO][21][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 11.1347ms 200 text/html; charset=utf-8
[2020-01-24T11:30:22.1434861+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/  
[2020-01-24T11:30:22.1447721+00:00][INFO][22][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:30:22.1452357+00:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:30:22.1457726+00:00][INFO][22][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T11:30:22.1480811+00:00][INFO][22][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 2.3275ms.
[2020-01-24T11:30:22.1482286+00:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 2.7217ms
[2020-01-24T11:30:22.1483214+00:00][INFO][22][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:30:22.1484501+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 4.9786ms 200 text/html; charset=utf-8
[2020-01-24T11:30:23.1670806+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/Account/Login  
[2020-01-24T11:30:23.1674117+00:00][INFO][25][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:30:23.1675905+00:00][INFO][25][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:30:23.1683557+00:00][INFO][25][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-01-24T11:30:23.1714370+00:00][INFO][25][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 2.6146ms.
[2020-01-24T11:30:23.1729504+00:00][INFO][25][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)" in 4.8742ms
[2020-01-24T11:30:23.1742894+00:00][INFO][25][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:30:23.1761426+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 8.9942ms 200 text/html; charset=utf-8
[2020-01-24T11:30:33.5393428+00:00][INFO][21][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://127.0.0.1.xip.io/Account/Login application/x-www-form-urlencoded 267
[2020-01-24T11:30:33.5398022+00:00][DBUG][21][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Account/Login" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2020-01-24T11:30:33.5400926+00:00][INFO][21][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-01-24T11:30:33.5409455+00:00][INFO][21][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:30:33.5416548+00:00][INFO][21][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ITLab.Identity.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:30:37.6971997+00:00][INFO][21][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"DataBaseContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:30:37.7401917+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2020-01-24T11:30:37.7425854+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2020-01-24T11:30:37.7903283+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2020-01-24T11:30:37.7969718+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedEmail\" = @__normalizedEmail_0
LIMIT 2"
[2020-01-24T11:30:37.8487329+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("45"ms) [Parameters=["@p17='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?', @p13='?' (DbType = Boolean), @p14='?', @p15='?' (DbType = Boolean), @p16='?'"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"AspNetUsers\" SET \"AccessFailedCount\" = @p0, \"ConcurrencyStamp\" = @p1, \"Email\" = @p2, \"EmailConfirmed\" = @p3, \"FirstName\" = @p4, \"LastName\" = @p5, \"LockoutEnabled\" = @p6, \"LockoutEnd\" = @p7, \"MiddleName\" = @p8, \"NormalizedEmail\" = @p9, \"NormalizedUserName\" = @p10, \"PasswordHash\" = @p11, \"PhoneNumber\" = @p12, \"PhoneNumberConfirmed\" = @p13, \"SecurityStamp\" = @p14, \"TwoFactorEnabled\" = @p15, \"UserName\" = @p16
WHERE \"Id\" = @p17 AND \"ConcurrencyStamp\" = @p18;"
[2020-01-24T11:30:37.8794104+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"ClaimType\", a.\"ClaimValue\", a.\"UserId\"
FROM \"AspNetUserClaims\" AS a
WHERE a.\"UserId\" = @__user_Id_0"
[2020-01-24T11:30:37.9036295+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a0.\"Name\"
FROM \"AspNetUserRoles\" AS a
INNER JOIN \"AspNetRoles\" AS a0 ON a.\"RoleId\" = a0.\"Id\"
WHERE a.\"UserId\" = @__userId_0"
[2020-01-24T11:30:37.9557553+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__normalizedName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"ConcurrencyStamp\", a.\"Name\", a.\"NormalizedName\"
FROM \"AspNetRoles\" AS a
WHERE a.\"NormalizedName\" = @__normalizedName_0
LIMIT 1"
[2020-01-24T11:30:37.9630739+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"ClaimType\", a.\"ClaimValue\"
FROM \"AspNetRoleClaims\" AS a
WHERE a.\"RoleId\" = @__role_Id_0"
[2020-01-24T11:30:37.9640250+00:00][DBUG][25][IdentityServer4.Hosting.IdentityServerAuthenticationService] Augmenting SignInContext
[2020-01-24T11:30:37.9642466+00:00][DBUG][25][IdentityServer4.Hosting.IdentityServerAuthenticationService] Adding idp claim with value: "local"
[2020-01-24T11:30:37.9644083+00:00][DBUG][25][IdentityServer4.Hosting.IdentityServerAuthenticationService] Adding auth_time claim with value: "1579865437"
[2020-01-24T11:30:37.9651576+00:00][INFO][25][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2020-01-24T11:30:37.9661541+00:00][INFO][25][IdentityServer4.Events.DefaultEventService] UserLoginSuccessEvent { Username: "admin", Provider: null, ProviderUserId: null, SubjectId: "5b39088d-4ed0-41cf-bfe7-a7ef9d110920", DisplayName: "admin", Endpoint: "UI", ClientId: null, Category: "Authentication", Name: "User Login Success", EventType: Success, Id: 1000, Message: null, ActivityId: "0HLT0NVEKJD2U:00000016", TimeStamp: 01/24/2020 11:30:37, ProcessId: 1152, LocalIpAddress: "::ffff:172.19.0.4:80", RemoteIpAddress: "::ffff:172.19.0.1" }
[2020-01-24T11:30:37.9667822+00:00][INFO][25][Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor] Executing RedirectResult, redirecting to "/".
[2020-01-24T11:30:37.9695442+00:00][INFO][25][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)" in 4426.8059ms
[2020-01-24T11:30:37.9699007+00:00][INFO][25][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:30:37.9709831+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 4431.6578ms 302 
[2020-01-24T11:30:37.9878439+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/  
[2020-01-24T11:30:37.9886795+00:00][INFO][25][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:30:37.9889417+00:00][INFO][25][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:30:37.9897578+00:00][INFO][25][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T11:30:37.9918143+00:00][INFO][25][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:30:37.9938741+00:00][INFO][25][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 4.1452ms.
[2020-01-24T11:30:37.9945612+00:00][INFO][25][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 5.2639ms
[2020-01-24T11:30:37.9950586+00:00][INFO][25][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:30:37.9953883+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 7.5414ms 200 text/html; charset=utf-8
[2020-01-24T11:30:41.7186527+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/connect/authorize?client_id=MyClientId&redirect_uri=http%3A%2F%2F127.0.0.1.xip.io%3A9000%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20email%20roles&response_mode=form_post&nonce=637154622416860525.YjU4OGFiMzgtOWNhOC00YTY1LTgxM2EtYmQ3YmYxNmM5YzU3ZjZiZThhNzUtMDI3My00ZWQyLThjMzQtYzQ4OGQ0MWUwZDQz&state=CfDJ8ALkfCZe03BDjY6uy4mDTrEw_E99JCSusbE_KMJEMuGHd7Pw9leAZEvE46wksMDQBzPtSkzTyBzCnQ0pn1vhNq3qIx6Ny-OzBWIhc8XIvmcMPJYq3QsmbWpeegATY-e8sYRBbeBKQ20tiJtxmYkrS1AQXclQe3gjRTOSq40Xkdff8nCtnT10BUMWjwkkPklM2qvOGdkW5HzxBsOlt5Xb_lYHAGta8Mdgz_YC-OXm3Q5bZaIsqEsns8XWlXsQAg-7VOAmKRlssM-NveG1wnUk2-ZoMUH-UMcPS9DOBJ34S-zt&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
[2020-01-24T11:30:41.7195606+00:00][DBUG][22][IdentityServer4.Hosting.EndpointRouter] Request path "/connect/authorize" matched to endpoint type "Authorize"
[2020-01-24T11:30:41.7288651+00:00][DBUG][22][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Authorize", successfully created handler: "IdentityServer4.Endpoints.AuthorizeEndpoint"
[2020-01-24T11:30:41.7289414+00:00][INFO][22][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-01-24T11:30:41.7289819+00:00][DBUG][22][IdentityServer4.Endpoints.AuthorizeEndpoint] Start authorize request
[2020-01-24T11:30:41.7307934+00:00][DBUG][22][IdentityServer4.Endpoints.AuthorizeEndpoint] User in authorize request: "5b39088d-4ed0-41cf-bfe7-a7ef9d110920"
[2020-01-24T11:30:41.7320177+00:00][DBUG][22][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2020-01-24T11:30:41.7338056+00:00][INFO][22][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:30:41.7598687+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2020-01-24T11:30:41.8318512+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:30:41.9423373+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:30:41.9486227+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:30:41.9561594+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:30:41.9874491+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("27"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:30:42.0349265+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("47"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:30:42.0632828+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:30:42.1122455+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:30:42.1196530+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:30:42.1432629+00:00][DBUG][25][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2020-01-24T11:30:42.1436225+00:00][DBUG][25][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2020-01-24T11:30:42.1439338+00:00][DBUG][25][IdentityServer4.Validation.AuthorizeRequestValidator] Checking for PKCE parameters
[2020-01-24T11:30:42.1441517+00:00][DBUG][25][IdentityServer4.Validation.AuthorizeRequestValidator] No PKCE used.
[2020-01-24T11:30:42.1510213+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2020-01-24T11:30:42.1761428+00:00][DBUG][21][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2020-01-24T11:30:42.2055758+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("28"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2020-01-24T11:30:42.2089031+00:00][DBUG][21][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2020-01-24T11:30:42.2226151+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("13"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2020-01-24T11:30:42.2241221+00:00][DBUG][21][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2020-01-24T11:30:42.2333853+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2020-01-24T11:30:42.2336002+00:00][DBUG][21][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2020-01-24T11:30:42.2337986+00:00][DBUG][21][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2020-01-24T11:30:42.2342509+00:00][DBUG][21][IdentityServer4.Endpoints.AuthorizeEndpoint] ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "MyClientId", ClientName: "MyClientId", RedirectUri: "http://127.0.0.1.xip.io:9000/signin-oidc", AllowedRedirectUris: ["http://127.0.0.1.xip.io:9000/signin-oidc"], SubjectId: "5b39088d-4ed0-41cf-bfe7-a7ef9d110920", ResponseType: "code id_token", ResponseMode: "form_post", GrantType: "hybrid", RequestedScopes: "openid profile email roles", State: "CfDJ8ALkfCZe03BDjY6uy4mDTrEw_E99JCSusbE_KMJEMuGHd7Pw9leAZEvE46wksMDQBzPtSkzTyBzCnQ0pn1vhNq3qIx6Ny-OzBWIhc8XIvmcMPJYq3QsmbWpeegATY-e8sYRBbeBKQ20tiJtxmYkrS1AQXclQe3gjRTOSq40Xkdff8nCtnT10BUMWjwkkPklM2qvOGdkW5HzxBsOlt5Xb_lYHAGta8Mdgz_YC-OXm3Q5bZaIsqEsns8XWlXsQAg-7VOAmKRlssM-NveG1wnUk2-ZoMUH-UMcPS9DOBJ34S-zt", UiLocales: null, Nonce: "637154622416860525.YjU4OGFiMzgtOWNhOC00YTY1LTgxM2EtYmQ3YmYxNmM5YzU3ZjZiZThhNzUtMDI3My00ZWQyLThjMzQtYzQ4OGQ0MWUwZDQz", AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: null, MaxAge: null, LoginHint: null, SessionId: "2WO6r0lhtz01rBaLXNbMtQ", Raw: [("client_id": "MyClientId"), ("redirect_uri": "http://127.0.0.1.xip.io:9000/signin-oidc"), ("response_type": "code id_token"), ("scope": "openid profile email roles"), ("response_mode": "form_post"), ("nonce": "637154622416860525.YjU4OGFiMzgtOWNhOC00YTY1LTgxM2EtYmQ3YmYxNmM5YzU3ZjZiZThhNzUtMDI3My00ZWQyLThjMzQtYzQ4OGQ0MWUwZDQz"), ("state": "CfDJ8ALkfCZe03BDjY6uy4mDTrEw_E99JCSusbE_KMJEMuGHd7Pw9leAZEvE46wksMDQBzPtSkzTyBzCnQ0pn1vhNq3qIx6Ny-OzBWIhc8XIvmcMPJYq3QsmbWpeegATY-e8sYRBbeBKQ20tiJtxmYkrS1AQXclQe3gjRTOSq40Xkdff8nCtnT10BUMWjwkkPklM2qvOGdkW5HzxBsOlt5Xb_lYHAGta8Mdgz_YC-OXm3Q5bZaIsqEsns8XWlXsQAg-7VOAmKRlssM-NveG1wnUk2-ZoMUH-UMcPS9DOBJ34S-zt"), ("x-client-SKU": "ID_NETSTANDARD2_0"), ("x-client-ver": "5.5.0.0")] }
[2020-01-24T11:30:42.2404196+00:00][INFO][21][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"DataBaseContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:30:42.2670304+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__p_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"Id\" = @__p_0
LIMIT 1"
[2020-01-24T11:30:42.2815099+00:00][INFO][21][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:30:42.2926663+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__key_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT p.\"Key\", p.\"ClientId\", p.\"CreationTime\", p.\"Data\", p.\"Expiration\", p.\"SubjectId\", p.\"Type\"
FROM \"PersistedGrants\" AS p
WHERE p.\"Key\" = @__key_0
LIMIT 1"
[2020-01-24T11:30:42.2977946+00:00][DBUG][25][IdentityServer4.EntityFramework.Stores.PersistedGrantStore] "Z+UxlT2WFY/NeZRqPSQwKUmTh1vBvJQiqPgfxFcBqpU=" found in database: False
[2020-01-24T11:30:42.2998107+00:00][DBUG][25][IdentityServer4.Stores.DefaultUserConsentStore] "user_consent" grant with value: "MyClientId|5b39088d-4ed0-41cf-bfe7-a7ef9d110920" not found in store.
[2020-01-24T11:30:42.3010017+00:00][DBUG][25][IdentityServer4.Services.DefaultConsentService] Found no prior consent from consent store, consent is required
[2020-01-24T11:30:42.3023136+00:00][INFO][25][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] Showing consent: User has not yet consented
[2020-01-24T11:30:42.3045407+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 585.9085ms 302 
[2020-01-24T11:30:42.3227074+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/consent?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3DMyClientId%26redirect_uri%3Dhttp%253A%252F%252F127.0.0.1.xip.io%253A9000%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520roles%26response_mode%3Dform_post%26nonce%3D637154622416860525.YjU4OGFiMzgtOWNhOC00YTY1LTgxM2EtYmQ3YmYxNmM5YzU3ZjZiZThhNzUtMDI3My00ZWQyLThjMzQtYzQ4OGQ0MWUwZDQz%26state%3DCfDJ8ALkfCZe03BDjY6uy4mDTrEw_E99JCSusbE_KMJEMuGHd7Pw9leAZEvE46wksMDQBzPtSkzTyBzCnQ0pn1vhNq3qIx6Ny-OzBWIhc8XIvmcMPJYq3QsmbWpeegATY-e8sYRBbeBKQ20tiJtxmYkrS1AQXclQe3gjRTOSq40Xkdff8nCtnT10BUMWjwkkPklM2qvOGdkW5HzxBsOlt5Xb_lYHAGta8Mdgz_YC-OXm3Q5bZaIsqEsns8XWlXsQAg-7VOAmKRlssM-NveG1wnUk2-ZoMUH-UMcPS9DOBJ34S-zt%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0  
[2020-01-24T11:30:42.3251482+00:00][INFO][25][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:30:42.3264767+00:00][INFO][25][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.ConsentController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:30:42.3306917+00:00][INFO][25][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Consent\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index(System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.ConsentController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:30:42.3354929+00:00][DBUG][25][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2020-01-24T11:30:42.3364740+00:00][INFO][25][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:30:42.3436400+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2020-01-24T11:30:42.3506520+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:30:42.3848935+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:30:42.3916326+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:30:42.4002876+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:30:42.4494092+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:30:42.4750049+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:30:42.4824119+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:30:42.5094099+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:30:42.5373278+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("27"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:30:42.5389938+00:00][DBUG][23][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2020-01-24T11:30:42.5398634+00:00][DBUG][23][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2020-01-24T11:30:42.5405637+00:00][DBUG][23][IdentityServer4.Validation.AuthorizeRequestValidator] Checking for PKCE parameters
[2020-01-24T11:30:42.5408336+00:00][DBUG][23][IdentityServer4.Validation.AuthorizeRequestValidator] No PKCE used.
[2020-01-24T11:30:42.5483510+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2020-01-24T11:30:42.5524710+00:00][DBUG][25][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2020-01-24T11:30:42.5605357+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2020-01-24T11:30:42.5643247+00:00][DBUG][25][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2020-01-24T11:30:42.6137284+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2020-01-24T11:30:42.6155804+00:00][DBUG][23][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2020-01-24T11:30:42.6478148+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2020-01-24T11:30:42.6485580+00:00][DBUG][22][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2020-01-24T11:30:42.6492386+00:00][DBUG][22][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2020-01-24T11:30:42.6772000+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2020-01-24T11:30:42.6856459+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:30:42.7249526+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("36"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:30:42.7368809+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:30:42.7463277+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:30:42.7760348+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("27"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:30:42.7822786+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:30:42.7852593+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:30:42.8387731+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("26"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:30:42.8648045+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("16"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:30:42.8665308+00:00][DBUG][22][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2020-01-24T11:30:42.8685475+00:00][DBUG][22][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2020-01-24T11:30:42.8769651+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2020-01-24T11:30:42.9321092+00:00][DBUG][23][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2020-01-24T11:30:42.9530447+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("14"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2020-01-24T11:30:42.9809960+00:00][DBUG][22][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2020-01-24T11:30:42.9873767+00:00][INFO][22][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T11:30:43.0137792+00:00][INFO][22][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:30:43.0159315+00:00][INFO][22][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 29.462ms.
[2020-01-24T11:30:43.0166702+00:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.ConsentController.Index (ITLab.Identity.STS.Identity)" in 684.8331ms
[2020-01-24T11:30:43.0171543+00:00][INFO][22][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.ConsentController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:30:43.0184140+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 695.7368ms 200 text/html; charset=utf-8
[2020-01-24T11:31:17.7689669+00:00][INFO][28][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://127.0.0.1.xip.io/Consent application/x-www-form-urlencoded 1131
[2020-01-24T11:31:17.7693453+00:00][DBUG][28][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Consent" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2020-01-24T11:31:17.7694027+00:00][INFO][28][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-01-24T11:31:17.7700829+00:00][INFO][28][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:31:17.7723379+00:00][INFO][28][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.ConsentController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:31:17.9545408+00:00][INFO][28][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Consent\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index(ITLab.Identity.STS.Identity.ViewModels.Consent.ConsentInputModel)" on controller "ITLab.Identity.STS.Identity.Controllers.ConsentController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:31:17.9660325+00:00][DBUG][28][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2020-01-24T11:31:17.9672677+00:00][INFO][28][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:31:18.0106541+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2020-01-24T11:31:18.0561017+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:18.0824683+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:18.0903111+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:18.0984141+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:18.1470104+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:18.1505722+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:18.1759971+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:18.1854270+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:18.2084734+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:18.2096467+00:00][DBUG][21][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2020-01-24T11:31:18.2125201+00:00][DBUG][21][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2020-01-24T11:31:18.2133865+00:00][DBUG][21][IdentityServer4.Validation.AuthorizeRequestValidator] Checking for PKCE parameters
[2020-01-24T11:31:18.2135792+00:00][DBUG][21][IdentityServer4.Validation.AuthorizeRequestValidator] No PKCE used.
[2020-01-24T11:31:18.2421461+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2020-01-24T11:31:18.2431054+00:00][DBUG][23][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2020-01-24T11:31:18.2919332+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("47"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2020-01-24T11:31:18.2943516+00:00][DBUG][23][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2020-01-24T11:31:18.3024449+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2020-01-24T11:31:18.3050895+00:00][DBUG][28][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2020-01-24T11:31:18.3153632+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2020-01-24T11:31:18.3164592+00:00][DBUG][25][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2020-01-24T11:31:18.3168934+00:00][DBUG][25][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2020-01-24T11:31:18.3193649+00:00][INFO][25][IdentityServer4.Events.DefaultEventService] ConsentGrantedEvent { SubjectId: "5b39088d-4ed0-41cf-bfe7-a7ef9d110920", ClientId: "MyClientId", RequestedScopes: ["openid", "profile", "email", "roles"], GrantedScopes: ["roles", "openid", "profile", "email"], ConsentRemembered: True, Category: "Grants", Name: "Consent granted", EventType: Information, Id: 4000, Message: null, ActivityId: "0HLT0NVEKJD2U:0000001A", TimeStamp: 01/24/2020 11:31:18, ProcessId: 1152, LocalIpAddress: "::ffff:172.19.0.4:80", RemoteIpAddress: "::ffff:172.19.0.1" }
[2020-01-24T11:31:18.3402124+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2020-01-24T11:31:18.3912563+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:18.3979675+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:18.4231411+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:18.4320389+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:18.4579927+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:18.4610233+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:18.4627808+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:18.4645196+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:18.4727527+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:18.4734727+00:00][DBUG][25][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2020-01-24T11:31:18.4739979+00:00][DBUG][25][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2020-01-24T11:31:18.4765823+00:00][INFO][25][Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=MyClientId&redirect_uri=http%3A%2F%2F127.0.0.1.xip.io%3A9000%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20email%20roles&response_mode=form_post&nonce=637154622416860525.YjU4OGFiMzgtOWNhOC00YTY1LTgxM2EtYmQ3YmYxNmM5YzU3ZjZiZThhNzUtMDI3My00ZWQyLThjMzQtYzQ4OGQ0MWUwZDQz&state=CfDJ8ALkfCZe03BDjY6uy4mDTrEw_E99JCSusbE_KMJEMuGHd7Pw9leAZEvE46wksMDQBzPtSkzTyBzCnQ0pn1vhNq3qIx6Ny-OzBWIhc8XIvmcMPJYq3QsmbWpeegATY-e8sYRBbeBKQ20tiJtxmYkrS1AQXclQe3gjRTOSq40Xkdff8nCtnT10BUMWjwkkPklM2qvOGdkW5HzxBsOlt5Xb_lYHAGta8Mdgz_YC-OXm3Q5bZaIsqEsns8XWlXsQAg-7VOAmKRlssM-NveG1wnUk2-ZoMUH-UMcPS9DOBJ34S-zt&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0".
[2020-01-24T11:31:18.4772571+00:00][INFO][25][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.ConsentController.Index (ITLab.Identity.STS.Identity)" in 522.392ms
[2020-01-24T11:31:18.4778316+00:00][INFO][25][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.ConsentController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:31:18.4787675+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 709.8452ms 302 
[2020-01-24T11:31:18.8485524+00:00][INFO][21][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/connect/authorize/callback?client_id=MyClientId&redirect_uri=http%3A%2F%2F127.0.0.1.xip.io%3A9000%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20email%20roles&response_mode=form_post&nonce=637154622416860525.YjU4OGFiMzgtOWNhOC00YTY1LTgxM2EtYmQ3YmYxNmM5YzU3ZjZiZThhNzUtMDI3My00ZWQyLThjMzQtYzQ4OGQ0MWUwZDQz&state=CfDJ8ALkfCZe03BDjY6uy4mDTrEw_E99JCSusbE_KMJEMuGHd7Pw9leAZEvE46wksMDQBzPtSkzTyBzCnQ0pn1vhNq3qIx6Ny-OzBWIhc8XIvmcMPJYq3QsmbWpeegATY-e8sYRBbeBKQ20tiJtxmYkrS1AQXclQe3gjRTOSq40Xkdff8nCtnT10BUMWjwkkPklM2qvOGdkW5HzxBsOlt5Xb_lYHAGta8Mdgz_YC-OXm3Q5bZaIsqEsns8XWlXsQAg-7VOAmKRlssM-NveG1wnUk2-ZoMUH-UMcPS9DOBJ34S-zt&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
[2020-01-24T11:31:18.8503091+00:00][DBUG][21][IdentityServer4.Hosting.EndpointRouter] Request path "/connect/authorize/callback" matched to endpoint type "Authorize"
[2020-01-24T11:31:18.8514259+00:00][DBUG][21][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Authorize", successfully created handler: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint"
[2020-01-24T11:31:18.8515001+00:00][INFO][21][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback"
[2020-01-24T11:31:18.8556699+00:00][DBUG][21][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] Start authorize callback request
[2020-01-24T11:31:18.8803401+00:00][DBUG][21][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] User in authorize request: "5b39088d-4ed0-41cf-bfe7-a7ef9d110920"
[2020-01-24T11:31:18.8805284+00:00][DBUG][21][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2020-01-24T11:31:18.8810263+00:00][INFO][21][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:31:18.9057343+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2020-01-24T11:31:18.9120091+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:18.9209420+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:18.9482110+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:18.9553470+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:18.9644149+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:18.9700499+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:18.9764034+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:19.0022716+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:19.0083419+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:19.0091417+00:00][DBUG][28][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2020-01-24T11:31:19.0095568+00:00][DBUG][28][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2020-01-24T11:31:19.0099898+00:00][DBUG][28][IdentityServer4.Validation.AuthorizeRequestValidator] Checking for PKCE parameters
[2020-01-24T11:31:19.0103287+00:00][DBUG][28][IdentityServer4.Validation.AuthorizeRequestValidator] No PKCE used.
[2020-01-24T11:31:19.0129165+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2020-01-24T11:31:19.0133996+00:00][DBUG][28][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2020-01-24T11:31:19.0184894+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2020-01-24T11:31:19.0197145+00:00][DBUG][28][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2020-01-24T11:31:19.0226968+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2020-01-24T11:31:19.0231347+00:00][DBUG][28][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2020-01-24T11:31:19.0516229+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("27"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2020-01-24T11:31:19.0952319+00:00][DBUG][25][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2020-01-24T11:31:19.0976937+00:00][DBUG][25][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2020-01-24T11:31:19.0984237+00:00][DBUG][25][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "MyClientId", ClientName: "MyClientId", RedirectUri: "http://127.0.0.1.xip.io:9000/signin-oidc", AllowedRedirectUris: ["http://127.0.0.1.xip.io:9000/signin-oidc"], SubjectId: "5b39088d-4ed0-41cf-bfe7-a7ef9d110920", ResponseType: "code id_token", ResponseMode: "form_post", GrantType: "hybrid", RequestedScopes: "openid profile email roles", State: "CfDJ8ALkfCZe03BDjY6uy4mDTrEw_E99JCSusbE_KMJEMuGHd7Pw9leAZEvE46wksMDQBzPtSkzTyBzCnQ0pn1vhNq3qIx6Ny-OzBWIhc8XIvmcMPJYq3QsmbWpeegATY-e8sYRBbeBKQ20tiJtxmYkrS1AQXclQe3gjRTOSq40Xkdff8nCtnT10BUMWjwkkPklM2qvOGdkW5HzxBsOlt5Xb_lYHAGta8Mdgz_YC-OXm3Q5bZaIsqEsns8XWlXsQAg-7VOAmKRlssM-NveG1wnUk2-ZoMUH-UMcPS9DOBJ34S-zt", UiLocales: null, Nonce: "637154622416860525.YjU4OGFiMzgtOWNhOC00YTY1LTgxM2EtYmQ3YmYxNmM5YzU3ZjZiZThhNzUtMDI3My00ZWQyLThjMzQtYzQ4OGQ0MWUwZDQz", AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: null, MaxAge: null, LoginHint: null, SessionId: "2WO6r0lhtz01rBaLXNbMtQ", Raw: [("client_id": "MyClientId"), ("redirect_uri": "http://127.0.0.1.xip.io:9000/signin-oidc"), ("response_type": "code id_token"), ("scope": "openid profile email roles"), ("response_mode": "form_post"), ("nonce": "637154622416860525.YjU4OGFiMzgtOWNhOC00YTY1LTgxM2EtYmQ3YmYxNmM5YzU3ZjZiZThhNzUtMDI3My00ZWQyLThjMzQtYzQ4OGQ0MWUwZDQz"), ("state": "CfDJ8ALkfCZe03BDjY6uy4mDTrEw_E99JCSusbE_KMJEMuGHd7Pw9leAZEvE46wksMDQBzPtSkzTyBzCnQ0pn1vhNq3qIx6Ny-OzBWIhc8XIvmcMPJYq3QsmbWpeegATY-e8sYRBbeBKQ20tiJtxmYkrS1AQXclQe3gjRTOSq40Xkdff8nCtnT10BUMWjwkkPklM2qvOGdkW5HzxBsOlt5Xb_lYHAGta8Mdgz_YC-OXm3Q5bZaIsqEsns8XWlXsQAg-7VOAmKRlssM-NveG1wnUk2-ZoMUH-UMcPS9DOBJ34S-zt"), ("x-client-SKU": "ID_NETSTANDARD2_0"), ("x-client-ver": "5.5.0.0")] }
[2020-01-24T11:31:19.1002613+00:00][INFO][25][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"DataBaseContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:31:19.1066575+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"Id\" = @__p_0
LIMIT 1"
[2020-01-24T11:31:19.1314571+00:00][INFO][28][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:31:19.1555266+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__key_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT p.\"Key\", p.\"ClientId\", p.\"CreationTime\", p.\"Data\", p.\"Expiration\", p.\"SubjectId\", p.\"Type\"
FROM \"PersistedGrants\" AS p
WHERE p.\"Key\" = @__key_0
LIMIT 1"
[2020-01-24T11:31:19.1558269+00:00][DBUG][28][IdentityServer4.EntityFramework.Stores.PersistedGrantStore] "Z+UxlT2WFY/NeZRqPSQwKUmTh1vBvJQiqPgfxFcBqpU=" found in database: False
[2020-01-24T11:31:19.1559450+00:00][DBUG][28][IdentityServer4.Stores.DefaultUserConsentStore] "user_consent" grant with value: "MyClientId|5b39088d-4ed0-41cf-bfe7-a7ef9d110920" not found in store.
[2020-01-24T11:31:19.1562759+00:00][DBUG][28][IdentityServer4.Services.DefaultConsentService] Found no prior consent from consent store, consent is required
[2020-01-24T11:31:19.1606895+00:00][INFO][28][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] User consented to scopes: ["roles", "openid", "profile", "email"]
[2020-01-24T11:31:19.1619313+00:00][DBUG][28][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] User indicated to remember consent for scopes: ["openid", "profile", "email", "roles"]
[2020-01-24T11:31:19.1647521+00:00][DBUG][28][IdentityServer4.Services.DefaultConsentService] Client allows remembering consent, and consent given. Updating consent store for subject: "5b39088d-4ed0-41cf-bfe7-a7ef9d110920"
[2020-01-24T11:31:19.1859148+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__token_Key_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT p.\"Key\", p.\"ClientId\", p.\"CreationTime\", p.\"Data\", p.\"Expiration\", p.\"SubjectId\", p.\"Type\"
FROM \"PersistedGrants\" AS p
WHERE p.\"Key\" = @__token_Key_0
LIMIT 2"
[2020-01-24T11:31:19.2100379+00:00][DBUG][25][IdentityServer4.EntityFramework.Stores.PersistedGrantStore] "Z+UxlT2WFY/NeZRqPSQwKUmTh1vBvJQiqPgfxFcBqpU=" not found in database
[2020-01-24T11:31:19.2712745+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@p0='?', @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"PersistedGrants\" (\"Key\", \"ClientId\", \"CreationTime\", \"Data\", \"Expiration\", \"SubjectId\", \"Type\")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);"
[2020-01-24T11:31:19.2843924+00:00][DBUG][23][IdentityServer4.ResponseHandling.AuthorizeResponseGenerator] Creating Hybrid Flow response.
[2020-01-24T11:31:19.3265945+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__token_Key_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT p.\"Key\", p.\"ClientId\", p.\"CreationTime\", p.\"Data\", p.\"Expiration\", p.\"SubjectId\", p.\"Type\"
FROM \"PersistedGrants\" AS p
WHERE p.\"Key\" = @__token_Key_0
LIMIT 2"
[2020-01-24T11:31:19.3336212+00:00][DBUG][25][IdentityServer4.EntityFramework.Stores.PersistedGrantStore] "F7F1vM47dZyVZhFnXeEpFiRDR5la/OSLOk+obQqSQ/s=" not found in database
[2020-01-24T11:31:19.3484427+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@p0='?', @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"PersistedGrants\" (\"Key\", \"ClientId\", \"CreationTime\", \"Data\", \"Expiration\", \"SubjectId\", \"Type\")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);"
[2020-01-24T11:31:19.3562981+00:00][DBUG][28][IdentityServer4.ResponseHandling.AuthorizeResponseGenerator] Creating Implicit Flow response.
[2020-01-24T11:31:19.3644148+00:00][DBUG][28][IdentityServer4.Services.DefaultClaimsService] Getting claims for identity token for subject: "5b39088d-4ed0-41cf-bfe7-a7ef9d110920" and client: "MyClientId"
[2020-01-24T11:31:19.3660563+00:00][DBUG][28][IdentityServer4.Services.DefaultClaimsService] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
[2020-01-24T11:31:19.4497617+00:00][INFO][28][IdentityServer4.Events.DefaultEventService] TokenIssuedSuccessEvent { ClientId: "MyClientId", ClientName: "MyClientId", RedirectUri: "http://127.0.0.1.xip.io:9000/signin-oidc", Endpoint: "Authorize", SubjectId: "5b39088d-4ed0-41cf-bfe7-a7ef9d110920", Scopes: "openid profile email roles", GrantType: "hybrid", Tokens: [Token { TokenType: "id_token", TokenValue: "****tZ6Q" }, Token { TokenType: "code", TokenValue: "****IMd0" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HLT0NVEKJD2U:0000001B", TimeStamp: 01/24/2020 11:31:19, ProcessId: 1152, LocalIpAddress: "::ffff:172.19.0.4:80", RemoteIpAddress: "::ffff:172.19.0.1" }
[2020-01-24T11:31:19.4514855+00:00][DBUG][28][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] Authorize endpoint response
AuthorizeResponseLog { SubjectId: "5b39088d-4ed0-41cf-bfe7-a7ef9d110920", ClientId: "MyClientId", RedirectUri: "http://127.0.0.1.xip.io:9000/signin-oidc", State: "CfDJ8ALkfCZe03BDjY6uy4mDTrEw_E99JCSusbE_KMJEMuGHd7Pw9leAZEvE46wksMDQBzPtSkzTyBzCnQ0pn1vhNq3qIx6Ny-OzBWIhc8XIvmcMPJYq3QsmbWpeegATY-e8sYRBbeBKQ20tiJtxmYkrS1AQXclQe3gjRTOSq40Xkdff8nCtnT10BUMWjwkkPklM2qvOGdkW5HzxBsOlt5Xb_lYHAGta8Mdgz_YC-OXm3Q5bZaIsqEsns8XWlXsQAg-7VOAmKRlssM-NveG1wnUk2-ZoMUH-UMcPS9DOBJ34S-zt", Scope: "openid profile email roles", Error: null, ErrorDescription: null }
[2020-01-24T11:31:19.4584266+00:00][DBUG][28][IdentityServer4.Hosting.IdentityServerAuthenticationService] Augmenting SignInContext
[2020-01-24T11:31:19.4592902+00:00][INFO][28][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2020-01-24T11:31:19.4645703+00:00][INFO][28][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 616.0392ms 200 text/html; charset=UTF-8
[2020-01-24T11:31:19.9155752+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://127.0.0.1.xip.io/connect/token application/x-www-form-urlencoded 192
[2020-01-24T11:31:19.9170314+00:00][DBUG][25][IdentityServer4.Hosting.EndpointRouter] Request path "/connect/token" matched to endpoint type "Token"
[2020-01-24T11:31:19.9259537+00:00][DBUG][25][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
[2020-01-24T11:31:19.9260828+00:00][INFO][25][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
[2020-01-24T11:31:19.9362971+00:00][DBUG][25][IdentityServer4.Endpoints.TokenEndpoint] Start token request.
[2020-01-24T11:31:19.9396735+00:00][DBUG][25][IdentityServer4.Validation.ClientSecretValidator] Start client validation
[2020-01-24T11:31:19.9442202+00:00][DBUG][25][IdentityServer4.Validation.BasicAuthenticationSecretParser] Start parsing Basic Authentication secret
[2020-01-24T11:31:19.9468395+00:00][DBUG][25][IdentityServer4.Validation.PostBodySecretParser] Start parsing for secret in post body
[2020-01-24T11:31:19.9483321+00:00][DBUG][25][IdentityServer4.Validation.SecretParser] Parser found secret: "PostBodySecretParser"
[2020-01-24T11:31:19.9486829+00:00][DBUG][25][IdentityServer4.Validation.SecretParser] Secret id found: "MyClientId"
[2020-01-24T11:31:19.9495465+00:00][INFO][25][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:31:19.9730634+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2020-01-24T11:31:19.9776913+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:19.9829762+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:19.9879485+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:20.0111794+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:20.0590125+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:20.1818967+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("34"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:20.2045963+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:20.2094929+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:20.2189597+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:20.2200426+00:00][DBUG][23][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2020-01-24T11:31:20.2202370+00:00][DBUG][23][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2020-01-24T11:31:20.2309814+00:00][DBUG][23][IdentityServer4.Validation.SecretValidator] Secret validator success: "HashedSharedSecretValidator"
[2020-01-24T11:31:20.2312971+00:00][DBUG][23][IdentityServer4.Validation.ClientSecretValidator] Client validation success
[2020-01-24T11:31:20.2330932+00:00][INFO][23][IdentityServer4.Events.DefaultEventService] ClientAuthenticationSuccessEvent { ClientId: "MyClientId", AuthenticationMethod: "SharedSecret", Category: "Authentication", Name: "Client Authentication Success", EventType: Success, Id: 1010, Message: null, ActivityId: "0HLT0NVEKJD38:00000001", TimeStamp: 01/24/2020 11:31:20, ProcessId: 1152, LocalIpAddress: "::ffff:172.19.0.4:80", RemoteIpAddress: "::ffff:172.19.0.5" }
[2020-01-24T11:31:20.2360700+00:00][DBUG][23][IdentityServer4.Validation.TokenRequestValidator] Start token request validation
[2020-01-24T11:31:20.2394338+00:00][DBUG][23][IdentityServer4.Validation.TokenRequestValidator] Start validation of authorization code token request
[2020-01-24T11:31:20.2404006+00:00][INFO][23][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:31:20.2424665+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__key_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT p.\"Key\", p.\"ClientId\", p.\"CreationTime\", p.\"Data\", p.\"Expiration\", p.\"SubjectId\", p.\"Type\"
FROM \"PersistedGrants\" AS p
WHERE p.\"Key\" = @__key_0
LIMIT 1"
[2020-01-24T11:31:20.2479243+00:00][DBUG][23][IdentityServer4.EntityFramework.Stores.PersistedGrantStore] "F7F1vM47dZyVZhFnXeEpFiRDR5la/OSLOk+obQqSQ/s=" found in database: True
[2020-01-24T11:31:20.2714406+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__key_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT p.\"Key\", p.\"ClientId\", p.\"CreationTime\", p.\"Data\", p.\"Expiration\", p.\"SubjectId\", p.\"Type\"
FROM \"PersistedGrants\" AS p
WHERE p.\"Key\" = @__key_0
LIMIT 1"
[2020-01-24T11:31:20.2762805+00:00][DBUG][29][IdentityServer4.EntityFramework.Stores.PersistedGrantStore] removing "F7F1vM47dZyVZhFnXeEpFiRDR5la/OSLOk+obQqSQ/s=" persisted grant from database
[2020-01-24T11:31:20.3104941+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("29"ms) [Parameters=["@p0='?'"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM \"PersistedGrants\"
WHERE \"Key\" = @p0;"
[2020-01-24T11:31:20.3216893+00:00][INFO][23][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"DataBaseContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:31:20.3263849+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"Id\" = @__p_0
LIMIT 1"
[2020-01-24T11:31:20.3268206+00:00][DBUG][23][IdentityServer4.Validation.TokenRequestValidator] Validation of authorization code token request success
[2020-01-24T11:31:20.3314723+00:00][INFO][23][IdentityServer4.Validation.TokenRequestValidator] Token request validation success, TokenRequestValidationLog { ClientId: "MyClientId", ClientName: "MyClientId", GrantType: "authorization_code", Scopes: null, AuthorizationCode: "pbmlpAU91ne4Tlmxx5jBKr5VPxeTCuHYDOob69OIMd0", RefreshToken: null, UserName: null, AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("client_id": "MyClientId"), ("client_secret": "***REDACTED***"), ("code": "pbmlpAU91ne4Tlmxx5jBKr5VPxeTCuHYDOob69OIMd0"), ("grant_type": "authorization_code"), ("redirect_uri": "http://127.0.0.1.xip.io:9000/signin-oidc")] }
[2020-01-24T11:31:20.3426470+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2020-01-24T11:31:20.3501711+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:20.3728861+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:20.3965746+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:20.3989277+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:20.4014975+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:20.4060264+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:20.4104158+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:20.4383266+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:20.4808096+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("35"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:20.4994196+00:00][DBUG][22][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2020-01-24T11:31:20.4997489+00:00][DBUG][22][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2020-01-24T11:31:20.5121308+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2020-01-24T11:31:20.5194989+00:00][DBUG][23][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2020-01-24T11:31:20.5448984+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2020-01-24T11:31:20.5457719+00:00][DBUG][22][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2020-01-24T11:31:20.5573209+00:00][DBUG][22][IdentityServer4.Services.DefaultClaimsService] Getting claims for access token for client: "MyClientId"
[2020-01-24T11:31:20.5578659+00:00][DBUG][22][IdentityServer4.Services.DefaultClaimsService] Getting claims for access token for subject: "5b39088d-4ed0-41cf-bfe7-a7ef9d110920"
[2020-01-24T11:31:20.5658163+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"ClaimType\", a.\"ClaimValue\", a.\"UserId\"
FROM \"AspNetUserClaims\" AS a
WHERE a.\"UserId\" = @__user_Id_0"
[2020-01-24T11:31:20.5723401+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a0.\"Name\"
FROM \"AspNetUserRoles\" AS a
INNER JOIN \"AspNetRoles\" AS a0 ON a.\"RoleId\" = a0.\"Id\"
WHERE a.\"UserId\" = @__userId_0"
[2020-01-24T11:31:20.5738499+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"ConcurrencyStamp\", a.\"Name\", a.\"NormalizedName\"
FROM \"AspNetRoles\" AS a
WHERE a.\"NormalizedName\" = @__normalizedName_0
LIMIT 1"
[2020-01-24T11:31:20.5763926+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"ClaimType\", a.\"ClaimValue\"
FROM \"AspNetRoleClaims\" AS a
WHERE a.\"RoleId\" = @__role_Id_0"
[2020-01-24T11:31:20.6428124+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("14"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2020-01-24T11:31:20.7182921+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("21"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:20.7341525+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:20.7431174+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:20.7504861+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:20.7988720+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("15"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:20.8486602+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:20.8841278+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:20.8967189+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:20.9260685+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:20.9286016+00:00][DBUG][28][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2020-01-24T11:31:20.9290393+00:00][DBUG][28][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2020-01-24T11:31:20.9543825+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2020-01-24T11:31:20.9792572+00:00][DBUG][29][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2020-01-24T11:31:21.0356096+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2020-01-24T11:31:21.0411223+00:00][DBUG][28][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2020-01-24T11:31:21.0442581+00:00][DBUG][28][IdentityServer4.Services.DefaultClaimsService] Getting claims for identity token for subject: "5b39088d-4ed0-41cf-bfe7-a7ef9d110920" and client: "MyClientId"
[2020-01-24T11:31:21.0448959+00:00][DBUG][28][IdentityServer4.Services.DefaultClaimsService] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
[2020-01-24T11:31:21.0628787+00:00][INFO][28][IdentityServer4.Events.DefaultEventService] TokenIssuedSuccessEvent { ClientId: "MyClientId", ClientName: "MyClientId", RedirectUri: null, Endpoint: "Token", SubjectId: "5b39088d-4ed0-41cf-bfe7-a7ef9d110920", Scopes: "openid profile email roles", GrantType: "authorization_code", Tokens: [Token { TokenType: "id_token", TokenValue: "****zuWQ" }, Token { TokenType: "access_token", TokenValue: "****FL_w" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HLT0NVEKJD38:00000001", TimeStamp: 01/24/2020 11:31:21, ProcessId: 1152, LocalIpAddress: "::ffff:172.19.0.4:80", RemoteIpAddress: "::ffff:172.19.0.5" }
[2020-01-24T11:31:21.0662271+00:00][DBUG][28][IdentityServer4.Endpoints.TokenEndpoint] Token request success.
[2020-01-24T11:31:21.0843120+00:00][INFO][28][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 1168.7764ms 200 application/json; charset=UTF-8
[2020-01-24T11:31:21.1145050+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/connect/userinfo  
[2020-01-24T11:31:21.1158480+00:00][DBUG][25][IdentityServer4.Hosting.EndpointRouter] Request path "/connect/userinfo" matched to endpoint type "Userinfo"
[2020-01-24T11:31:21.1178136+00:00][DBUG][25][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Userinfo", successfully created handler: "IdentityServer4.Endpoints.UserInfoEndpoint"
[2020-01-24T11:31:21.1179303+00:00][INFO][25][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo"
[2020-01-24T11:31:21.1209707+00:00][DBUG][25][IdentityServer4.Endpoints.UserInfoEndpoint] Start userinfo request
[2020-01-24T11:31:21.1231016+00:00][DBUG][25][IdentityServer4.Validation.BearerTokenUsageValidator] Bearer token found in header
[2020-01-24T11:31:21.1672782+00:00][INFO][25][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:31:21.2110973+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2020-01-24T11:31:21.2778870+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:21.3027701+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:21.3057887+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:21.3099021+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:21.3432842+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:21.3503149+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:21.3768682+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:21.3837345+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:21.3904240+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:21.3931927+00:00][DBUG][25][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2020-01-24T11:31:21.3934022+00:00][DBUG][25][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2020-01-24T11:31:21.4037360+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2020-01-24T11:31:21.4102283+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:21.4579778+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:21.4851336+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:21.4936938+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:21.5602549+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:21.6059568+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:21.6107591+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:21.6123807+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:21.6235142+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T11:31:21.6245251+00:00][DBUG][29][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2020-01-24T11:31:21.6246561+00:00][DBUG][29][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2020-01-24T11:31:21.6259275+00:00][INFO][29][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"DataBaseContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:31:21.6556159+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("29"ms) [Parameters=["@__p_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"Id\" = @__p_0
LIMIT 1"
[2020-01-24T11:31:21.6560101+00:00][DBUG][29][IdentityServer4.Validation.TokenValidator] Calling into custom token validator: "IdentityServer4.Validation.DefaultCustomTokenValidator"
[2020-01-24T11:31:21.6573191+00:00][DBUG][29][IdentityServer4.Validation.TokenValidator] Token validation success
TokenValidationLog { ClientId: null, ClientName: null, ValidateLifetime: True, AccessTokenType: "Jwt", ExpectedScope: "openid", TokenHandle: null, JwtId: null, Claims: [("nbf": 1579865480), ("exp": 1579869080), ("iss": "http://127.0.0.1.xip.io"), ("client_id": "MyClientId"), ("sub": "5b39088d-4ed0-41cf-bfe7-a7ef9d110920"), ("auth_time": 1579865437), ("idp": "local"), ("scope": ["roles", "openid", "profile", "email"]), ("amr": "pwd")] }
[2020-01-24T11:31:21.6627396+00:00][DBUG][29][IdentityServer4.ResponseHandling.UserInfoResponseGenerator] Creating userinfo response
[2020-01-24T11:31:21.6667388+00:00][DBUG][29][IdentityServer4.ResponseHandling.UserInfoResponseGenerator] Scopes in access token: "roles openid profile email"
[2020-01-24T11:31:21.6677552+00:00][DBUG][29][IdentityServer4.ResponseHandling.UserInfoResponseGenerator] Scopes in access token: "roles openid profile email"
[2020-01-24T11:31:21.6746800+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2020-01-24T11:31:21.6978940+00:00][DBUG][25][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2020-01-24T11:31:21.7021975+00:00][DBUG][29][IdentityServer4.ResponseHandling.UserInfoResponseGenerator] Requested claim types: "role sub updated_at locale zoneinfo birthdate gender website picture preferred_username nickname middle_name given_name family_name name profile email email_verified"
[2020-01-24T11:31:21.7024417+00:00][DBUG][29][IdentityServer4.ResponseHandling.UserInfoResponseGenerator] Scopes in access token: "roles openid profile email"
[2020-01-24T11:31:21.7083766+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2020-01-24T11:31:21.7317424+00:00][DBUG][22][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2020-01-24T11:31:21.7357646+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"ClaimType\", a.\"ClaimValue\", a.\"UserId\"
FROM \"AspNetUserClaims\" AS a
WHERE a.\"UserId\" = @__user_Id_0"
[2020-01-24T11:31:21.7400881+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a0.\"Name\"
FROM \"AspNetUserRoles\" AS a
INNER JOIN \"AspNetRoles\" AS a0 ON a.\"RoleId\" = a0.\"Id\"
WHERE a.\"UserId\" = @__userId_0"
[2020-01-24T11:31:21.7500880+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__normalizedName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"ConcurrencyStamp\", a.\"Name\", a.\"NormalizedName\"
FROM \"AspNetRoles\" AS a
WHERE a.\"NormalizedName\" = @__normalizedName_0
LIMIT 1"
[2020-01-24T11:31:21.7752549+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"ClaimType\", a.\"ClaimValue\"
FROM \"AspNetRoleClaims\" AS a
WHERE a.\"RoleId\" = @__role_Id_0"
[2020-01-24T11:31:21.7795177+00:00][INFO][29][IdentityServer4.ResponseHandling.UserInfoResponseGenerator] Profile service returned the following claim types: "sub name role preferred_username email email_verified"
[2020-01-24T11:31:21.7798919+00:00][DBUG][29][IdentityServer4.Endpoints.UserInfoEndpoint] End userinfo request
[2020-01-24T11:31:21.7831193+00:00][INFO][29][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 668.6125ms 200 application/json; charset=UTF-8
[2020-01-24T11:34:55.3412301+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/  
[2020-01-24T11:34:55.3455233+00:00][INFO][25][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:34:55.3473179+00:00][INFO][25][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:34:55.3539429+00:00][INFO][25][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T11:34:55.3748961+00:00][INFO][25][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:34:55.3814028+00:00][EROR][25][Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery] An exception was thrown while deserializing the token.
Microsoft.AspNetCore.Antiforgery.AntiforgeryValidationException: The antiforgery token could not be decrypted.
 ---> System.Security.Cryptography.CryptographicException: The key {267ce402-d35e-4370-8d8e-aecb89834eb1} was not found in the key ring.
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgeryTokenSerializer.Deserialize(String serializedToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgeryTokenSerializer.Deserialize(String serializedToken)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.GetCookieTokenDoesNotThrow(HttpContext httpContext)
[2020-01-24T11:34:55.4234272+00:00][INFO][25][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 71.2978ms.
[2020-01-24T11:34:55.4239480+00:00][INFO][25][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 73.1914ms
[2020-01-24T11:34:55.4245209+00:00][INFO][25][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:34:55.4249428+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 83.6799ms 200 text/html; charset=utf-8
[2020-01-24T11:35:11.2335705+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://127.0.0.1.xip.io/Home/SetLanguage?returnUrl=~%2F application/x-www-form-urlencoded 236
[2020-01-24T11:35:11.2348498+00:00][DBUG][22][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Home/SetLanguage" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2020-01-24T11:35:11.2350460+00:00][INFO][22][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-01-24T11:35:11.2388851+00:00][INFO][22][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.SetLanguage (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:35:11.2436457+00:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"SetLanguage\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult SetLanguage(System.String, System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:35:11.2479185+00:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.LocalRedirectResultExecutor] Executing LocalRedirectResult, redirecting to "/".
[2020-01-24T11:35:11.2484366+00:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.SetLanguage (ITLab.Identity.STS.Identity)" in 4.477ms
[2020-01-24T11:35:11.2496633+00:00][INFO][22][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.SetLanguage (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:35:11.2507565+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 17.5691ms 302 
[2020-01-24T11:35:11.2673695+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/  
[2020-01-24T11:35:11.2680881+00:00][INFO][25][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:35:11.2683711+00:00][INFO][25][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:35:11.2689150+00:00][INFO][25][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T11:35:11.2703827+00:00][INFO][25][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:35:11.2721956+00:00][INFO][25][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 3.3046ms.
[2020-01-24T11:35:11.2723295+00:00][INFO][25][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 3.7158ms
[2020-01-24T11:35:11.2724927+00:00][INFO][25][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:35:11.2726544+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 5.295ms 200 text/html; charset=utf-8
[2020-01-24T11:35:13.8014247+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/.well-known/openid-configuration  
[2020-01-24T11:35:13.8022395+00:00][DBUG][22][IdentityServer4.Hosting.EndpointRouter] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
[2020-01-24T11:35:13.8046023+00:00][DBUG][22][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
[2020-01-24T11:35:13.8046756+00:00][INFO][22][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
[2020-01-24T11:35:13.8047134+00:00][DBUG][22][IdentityServer4.Endpoints.DiscoveryEndpoint] Start discovery request
[2020-01-24T11:35:13.8051237+00:00][INFO][22][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T11:35:13.8423078+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2020-01-24T11:35:13.8520035+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2020-01-24T11:35:13.8546971+00:00][DBUG][33][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email", "address", "MyClientId_api"] as all scopes in database
[2020-01-24T11:35:13.8575565+00:00][INFO][33][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 56.2056ms 200 application/json; charset=UTF-8
[2020-01-24T11:35:19.1411257+00:00][INFO][29][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/  
[2020-01-24T11:35:19.1417275+00:00][INFO][29][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:35:19.1419021+00:00][INFO][29][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:35:19.1422494+00:00][INFO][29][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T11:35:19.1430286+00:00][INFO][29][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:35:19.1439842+00:00][INFO][29][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 1.7376ms.
[2020-01-24T11:35:19.1441500+00:00][INFO][29][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 2.0947ms
[2020-01-24T11:35:19.1442651+00:00][INFO][29][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:35:19.1443634+00:00][INFO][29][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 3.2854ms 200 text/html; charset=utf-8
[2020-01-24T11:35:26.8722249+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://127.0.0.1.xip.io/Home/SetLanguage?returnUrl=~%2F application/x-www-form-urlencoded 236
[2020-01-24T11:35:26.8729378+00:00][DBUG][25][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Home/SetLanguage" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2020-01-24T11:35:26.8730730+00:00][INFO][25][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-01-24T11:35:26.8785450+00:00][INFO][25][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.SetLanguage (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:35:26.8797346+00:00][INFO][25][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"SetLanguage\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult SetLanguage(System.String, System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:35:26.8812927+00:00][INFO][25][Microsoft.AspNetCore.Mvc.Infrastructure.LocalRedirectResultExecutor] Executing LocalRedirectResult, redirecting to "/".
[2020-01-24T11:35:26.8815657+00:00][INFO][25][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.SetLanguage (ITLab.Identity.STS.Identity)" in 1.5412ms
[2020-01-24T11:35:26.8817563+00:00][INFO][25][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.SetLanguage (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:35:26.8819456+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 9.918ms 302 
[2020-01-24T11:35:26.9025580+00:00][INFO][29][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/  
[2020-01-24T11:35:26.9368949+00:00][INFO][29][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:35:26.9373307+00:00][INFO][29][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:35:26.9389949+00:00][INFO][29][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T11:35:26.9637411+00:00][INFO][29][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:35:26.9679264+00:00][INFO][29][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 29.9034ms.
[2020-01-24T11:35:26.9691365+00:00][INFO][29][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 31.4871ms
[2020-01-24T11:35:26.9693787+00:00][INFO][29][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:35:26.9702163+00:00][INFO][29][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 67.6521ms 200 text/html; charset=utf-8
[2020-01-24T11:35:39.9187588+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://127.0.0.1.xip.io/Home/SetLanguage?returnUrl=~%2F application/x-www-form-urlencoded 236
[2020-01-24T11:35:39.9189758+00:00][DBUG][22][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Home/SetLanguage" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2020-01-24T11:35:39.9190844+00:00][INFO][22][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-01-24T11:35:39.9205667+00:00][INFO][22][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.SetLanguage (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:35:39.9208732+00:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"SetLanguage\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult SetLanguage(System.String, System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:35:39.9245525+00:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.LocalRedirectResultExecutor] Executing LocalRedirectResult, redirecting to "/".
[2020-01-24T11:35:39.9252239+00:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.SetLanguage (ITLab.Identity.STS.Identity)" in 2.1964ms
[2020-01-24T11:35:39.9263272+00:00][INFO][22][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.SetLanguage (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:35:39.9273069+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 8.5019ms 302 
[2020-01-24T11:35:39.9492301+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/  
[2020-01-24T11:35:39.9501294+00:00][INFO][25][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:35:39.9506390+00:00][INFO][25][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:35:39.9512793+00:00][INFO][25][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T11:35:39.9522947+00:00][INFO][25][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:35:39.9582596+00:00][INFO][25][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 6.8923ms.
[2020-01-24T11:35:39.9584776+00:00][INFO][25][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 7.5706ms
[2020-01-24T11:35:39.9587328+00:00][INFO][25][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:35:39.9588540+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 9.6231ms 200 text/html; charset=utf-8
[2020-01-24T11:35:54.6204325+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://127.0.0.1.xip.io/Home/SetLanguage?returnUrl=~%2F application/x-www-form-urlencoded 236
[2020-01-24T11:35:54[2020-01-24T11:36:59.7952094+00:00][WARN][1][Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] Storing keys in a directory '"/root/.aspnet/DataProtection-Keys"' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
[2020-01-24T11:36:59.8763446+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using '"/root/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
[2020-01-24T11:37:00.0131258+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "3.1.0.0"
[2020-01-24T11:37:00.0315632+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2020-01-24T11:37:00.0316528+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for authentication
[2020-01-24T11:37:00.0317645+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-in
[2020-01-24T11:37:00.0320850+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-out
[2020-01-24T11:37:00.0323684+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for challenge
[2020-01-24T11:37:00.0325044+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for forbid
[2020-01-24T11:37:00.2502089+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:80"
[2020-01-24T11:37:00.2518263+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2020-01-24T11:37:00.2522028+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2020-01-24T11:37:00.2525256+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2020-01-24T11:37:00.5164311+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/  
[2020-01-24T11:37:00.5439700+00:00][DBUG][4][IdentityServer4.Startup] Login Url: "/Account/Login"
[2020-01-24T11:37:00.5440789+00:00][DBUG][4][IdentityServer4.Startup] Login Return Url Parameter: "ReturnUrl"
[2020-01-24T11:37:00.5441063+00:00][DBUG][4][IdentityServer4.Startup] Logout Url: "/Account/Logout"
[2020-01-24T11:37:00.5441255+00:00][DBUG][4][IdentityServer4.Startup] ConsentUrl Url: "/consent"
[2020-01-24T11:37:00.5441745+00:00][DBUG][4][IdentityServer4.Startup] Consent Return Url Parameter: "returnUrl"
[2020-01-24T11:37:00.5444477+00:00][DBUG][4][IdentityServer4.Startup] Error Url: "/home/error"
[2020-01-24T11:37:00.5446194+00:00][DBUG][4][IdentityServer4.Startup] Error Id Parameter: "errorId"
[2020-01-24T11:37:00.6147453+00:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:37:00.6426110+00:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:37:00.6773123+00:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T11:37:00.8926048+00:00][INFO][4][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:37:01.0495231+00:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 377.7962ms.
[2020-01-24T11:37:01.0513546+00:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 407.7506ms
[2020-01-24T11:37:01.0517946+00:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:37:01.0573531+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 543.205ms 200 text/html; charset=utf-8
[2020-01-24T11:37:01.4634569+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/  
[2020-01-24T11:37:01.4707388+00:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:37:01.4728182+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:37:01.4770025+00:00][INFO][5][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T11:37:01.4849011+00:00][INFO][5][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:37:01.4941011+00:00][INFO][5][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 17.4951ms.
[2020-01-24T11:37:01.4948142+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 19.9883ms
[2020-01-24T11:37:01.4952620+00:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:37:01.4963860+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 32.9887ms 200 text/html; charset=utf-8
[2020-01-24T11:37:02.0128426+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/favicon.ico  
[2020-01-24T11:37:02.0758710+00:00][INFO][5][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/favicon.ico"'. Physical path: '"/app/wwwroot/favicon.ico"'
[2020-01-24T11:37:02.0811373+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 68.1699ms 200 image/x-icon
[2020-01-24T11:38:22.0109905+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://127.0.0.1.xip.io/Home/SetLanguage?returnUrl=~%2F application/x-www-form-urlencoded 236
[2020-01-24T11:38:22.0173308+00:00][DBUG][11][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Home/SetLanguage" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2020-01-24T11:38:22.0187185+00:00][INFO][11][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-01-24T11:38:22.0459654+00:00][INFO][11][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.SetLanguage (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:38:22.0657828+00:00][INFO][11][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"SetLanguage\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult SetLanguage(System.String, System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:38:22.1043299+00:00][INFO][11][Microsoft.AspNetCore.Mvc.Infrastructure.LocalRedirectResultExecutor] Executing LocalRedirectResult, redirecting to "/".
[2020-01-24T11:38:22.1049530+00:00][INFO][11][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Ident[2020-01-24T11:39:59.8609192+00:00][WARN][1][Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] Storing keys in a directory '"/root/.aspnet/DataProtection-Keys"' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
[2020-01-24T11:39:59.9225618+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using '"/root/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
[2020-01-24T11:40:00.0394518+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "3.1.0.0"
[2020-01-24T11:40:00.0603027+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2020-01-24T11:40:00.0607594+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for authentication
[2020-01-24T11:40:00.0611525+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-in
[2020-01-24T11:40:00.0618577+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-out
[2020-01-24T11:40:00.0623099+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for challenge
[2020-01-24T11:40:00.0627024+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for forbid
[2020-01-24T11:40:00.2816213+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:80"
[2020-01-24T11:40:00.2830054+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2020-01-24T11:40:00.2836738+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2020-01-24T11:40:00.2844254+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2020-01-24T11:40:57.8798425+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/  
[2020-01-24T11:40:57.9181514+00:00][DBUG][4][IdentityServer4.Startup] Login Url: "/Account/Login"
[2020-01-24T11:40:57.9183394+00:00][DBUG][4][IdentityServer4.Startup] Login Return Url Parameter: "ReturnUrl"
[2020-01-24T11:40:57.9183819+00:00][DBUG][4][IdentityServer4.Startup] Logout Url: "/Account/Logout"
[2020-01-24T11:40:57.9184529+00:00][DBUG][4][IdentityServer4.Startup] ConsentUrl Url: "/consent"
[2020-01-24T11:40:57.9184989+00:00][DBUG][4][IdentityServer4.Startup] Consent Return Url Parameter: "returnUrl"
[2020-01-24T11:40:57.9186409+00:00][DBUG][4][IdentityServer4.Startup] Error Url: "/home/error"
[2020-01-24T11:40:57.9188331+00:00][DBUG][4][IdentityServer4.Startup] Error Id Parameter: "errorId"
[2020-01-24T11:40:58.0093967+00:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:40:58.0382516+00:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:40:58.0840941+00:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T11:40:58.2776277+00:00][INFO][4][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:40:58.4228162+00:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 341.8821ms.
[2020-01-24T11:40:58.4263695+00:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 386.1137ms
[2020-01-24T11:40:58.4273921+00:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:40:58.4349407+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 563.5337ms 200 text/html; charset=utf-8
[2020-01-24T11:40:58.4849922+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/images/icon-black.svg  
[2020-01-24T11:40:58.5536136+00:00][INFO][4][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/images/icon-black.svg"'. Physical path: '"/app/wwwroot/images/icon-black.svg"'
[2020-01-24T11:40:58.5550890+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 70.0736ms 200 image/svg+xml
[2020-01-24T11:40:58.7332215+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/favicon.ico  
[2020-01-24T11:40:58.7500251+00:00][INFO][4][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/favicon.ico"'. Physical path: '"/app/wwwroot/favicon.ico"'
[2020-01-24T11:40:58.7553630+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 20.8874ms 200 image/x-icon
[2020-01-24T11:41:03.4082970+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/  
[2020-01-24T11:41:03.4259503+00:00][INFO][6][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:41:03.4367417+00:00][INFO][6][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T11:41:03.4394690+00:00][INFO][6][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T11:41:03.4490508+00:00][INFO][6][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T11:41:03.4552296+00:00][INFO][6][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 16.1088ms.
[2020-01-24T11:41:03.4561579+00:00][INFO][6][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 18.9731ms
[2020-01-24T11:41:03.4564520+00:00][INFO][6][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T11:41:03.4583201+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 50.0922ms 200 text/html; charset=utf-8
[2020-01-24T11:41:03.7406582+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/favicon.ico  
[2020-01-24T11:41:03.7534789+00:00][INFO][6][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/favicon.ico"'. Physical path: '"/app/wwwroot/favicon.ico"'
[2020-01-24T11:41:03.7555641+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 14.6958ms 200 image/x-icon
[2020-01-24T12:28:28.7160253+00:00][INFO][47][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/  
[2020-01-24T12:28:28.7491018+00:00][INFO][47][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"DataBaseContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T12:28:29.6244247+00:00][INFO][45][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("15"ms) [Parameters=["@__p_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"Id\" = @__p_0
LIMIT 1"
[2020-01-24T12:28:29.8228568+00:00][INFO][43][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"ClaimType\", a.\"ClaimValue\", a.\"UserId\"
FROM \"AspNetUserClaims\" AS a
WHERE a.\"UserId\" = @__user_Id_0"
[2020-01-24T12:28:29.8832845+00:00][INFO][47][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a0.\"Name\"
FROM \"AspNetUserRoles\" AS a
INNER JOIN \"AspNetRoles\" AS a0 ON a.\"RoleId\" = a0.\"Id\"
WHERE a.\"UserId\" = @__userId_0"
[2020-01-24T12:28:29.9762430+00:00][INFO][45][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("26"ms) [Parameters=["@__normalizedName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"ConcurrencyStamp\", a.\"Name\", a.\"NormalizedName\"
FROM \"AspNetRoles\" AS a
WHERE a.\"NormalizedName\" = @__normalizedName_0
LIMIT 1"
[2020-01-24T12:28:30.0010460+00:00][INFO][45][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"ClaimType\", a.\"ClaimValue\"
FROM \"AspNetRoleClaims\" AS a
WHERE a.\"RoleId\" = @__role_Id_0"
[2020-01-24T12:28:30.0143498+00:00][INFO][45][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T12:28:30.0150975+00:00][INFO][45][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T12:28:30.0222963+00:00][INFO][45][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T12:28:30.0524973+00:00][INFO][45][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T12:28:30.0575109+00:00][EROR][45][Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery] An exception was thrown while deserializing the token.
Microsoft.AspNetCore.Antiforgery.AntiforgeryValidationException: The antiforgery token could not be decrypted.
 ---> System.Security.Cryptography.CryptographicException: The key {267ce402-d35e-4370-8d8e-aecb89834eb1} was not found in the key ring.
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgeryTokenSerializer.Deserialize(String serializedToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgeryTokenSerializer.Deserialize(String serializedToken)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.GetCookieTokenDoesNotThrow(HttpContext httpContext)
[2020-01-24T12:28:30.1049273[2020-01-24T12:31:13.6618532+00:00][WARN][1][Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] Storing keys in a directory '"/root/.aspnet/DataProtection-Keys"' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
[2020-01-24T12:31:13.7995546+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using '"/root/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
[2020-01-24T12:31:14.0064844+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "3.1.0.0"
[2020-01-24T12:31:14.0365589+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2020-01-24T12:31:14.0366884+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for authentication
[2020-01-24T12:31:14.0368533+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-in
[2020-01-24T12:31:14.0380038+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-out
[2020-01-24T12:31:14.0385328+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for challenge
[2020-01-24T12:31:14.0393751+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for forbid
[2020-01-24T12:31:14.5662420+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:80"
[2020-01-24T12:31:14.5762164+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2020-01-24T12:31:14.5765097+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2020-01-24T12:31:14.5766852+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2020-01-24T12:31:14.8164179+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/  
[2020-01-24T12:31:14.9193771+00:00][DBUG][4][IdentityServer4.Startup] Login Url: "/Account/Login"
[2020-01-24T12:31:14.9195947+00:00][DBUG][4][IdentityServer4.Startup] Login Return Url Parameter: "ReturnUrl"
[2020-01-24T12:31:14.9196573+00:00][DBUG][4][IdentityServer4.Startup] Logout Url: "/Account/Logout"
[2020-01-24T12:31:14.9199384+00:00][DBUG][4][IdentityServer4.Startup] ConsentUrl Url: "/consent"
[2020-01-24T12:31:14.9200604+00:00][DBUG][4][IdentityServer4.Startup] Consent Return Url Parameter: "returnUrl"
[2020-01-24T12:31:14.9202725+00:00][DBUG][4][IdentityServer4.Startup] Error Url: "/home/error"
[2020-01-24T12:31:14.9204145+00:00][DBUG][4][IdentityServer4.Startup] Error Id Parameter: "errorId"
[2020-01-24T12:31:15.1469816+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/  
[2020-01-24T12:31:15.2446860+00:00][INFO][15][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T12:31:15.2448304+00:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T12:31:15.3139963+00:00][INFO][15][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T12:31:15.3140180+00:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T12:31:15.4209708+00:00][INFO][15][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T12:31:15.4210061+00:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T12:31:16.1686701+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/  
[2020-01-24T12:31:16.1733553+00:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/  
[2020-01-24T12:31:16.1969542+00:00][INFO][12][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T12:31:16.1969542+00:00][INFO][13][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T12:31:16.1994454+00:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T12:31:16.1994456+00:00][INFO][12][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T12:31:16.2163437+00:00][INFO][13][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T12:31:16.2163360+00:00][INFO][12][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T12:31:17.1664268+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/  
[2020-01-24T12:31:17.2304837+00:00][INFO][6][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T12:31:17.2797949+00:00][INFO][6][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T12:31:17.3154551+00:00][INFO][6][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T12:31:17.4357172+00:00][INFO][13][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T12:31:17.4357955+00:00][INFO][12][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T12:31:17.4357173+00:00][INFO][6][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T12:31:17.4366752+00:00][INFO][4][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T12:31:17.4379655+00:00][INFO][15][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T12:31:18.1868946+00:00][INFO][12][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 1964.9115ms.
[2020-01-24T12:31:18.1878967+00:00][INFO][15][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 2787.5848ms.
[2020-01-24T12:31:18.1874008+00:00][INFO][6][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 872.0868ms.
[2020-01-24T12:31:18.1868909+00:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 2787.4091ms.
[2020-01-24T12:31:18.1926395+00:00][INFO][15][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 2874.6882ms
[2020-01-24T12:31:18.1933144+00:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 2874.092ms
[2020-01-24T12:31:18.1953216+00:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T12:31:18.1948465+00:00][INFO][15][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T12:31:18.1967987+00:00][INFO][12][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 1986.4022ms
[2020-01-24T12:31:18.1996935+00:00][INFO][12][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T12:31:18.1989401+00:00][INFO][6][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 914.7088ms
[2020-01-24T12:31:18.2007873+00:00][INFO][6][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T12:31:18.1902686+00:00][INFO][13][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 1964.1856ms.
[2020-01-24T12:31:18.2033078+00:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 1999.6295ms
[2020-01-24T12:31:18.2056894+00:00][INFO][13][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T12:31:18.2130235+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 2043.4398ms 200 text/html; charset=utf-8
[2020-01-24T12:31:18.2140804+00:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 2038.8113ms 200 text/html; charset=utf-8
[2020-01-24T12:31:18.2140817+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 1047.4099ms 200 text/html; charset=utf-8
[2020-01-24T12:31:18.2492953+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 3065.5671ms 200 text/html; charset=utf-8
[2020-01-24T12:31:18.2493409+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 3439.4026ms 200 text/html; charset=utf-8
[2020-01-24T12:31:20.0409961+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/  
[2020-01-24T12:31:20.0463293+00:00][INFO][13][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T12:31:20.0472207+00:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T12:31:20.0551346+00:00][INFO][13][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T12:31:20.0622433+00:00][INFO][13][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T12:31:20.0761515+00:00][INFO][13][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 23.1252ms.
[2020-01-24T12:31:20.0768878+00:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 29.2386ms
[2020-01-24T12:31:20.0773450+00:00][INFO][13][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T12:31:20.0778351+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 37.2716ms 200 text/html; charset=utf-8
[2020-01-24T12:31:23.4596886+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/Account/Logout  
[2020-01-24T12:31:23.4770684+00:00][INFO][13][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T12:31:23.4777686+00:00][INFO][13][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Logout (ITLab.Identity.STS.Identity)"'
[2020-01-24T12:31:23.5233216+00:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Logout\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout(System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T12:31:23.6734885+00:00][INFO][13][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Logout".
[2020-01-24T12:31:23.6958705+00:00][INFO][13][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T12:31:23.7033519+00:00][INFO][13][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Logout" executed in 30.9669ms.
[2020-01-24T12:31:23.7042833+00:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Logout (ITLab.Identity.STS.Identity)" in 180.4769ms
[2020-01-24T12:31:23.7048168+00:00][INFO][13][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Logout (ITLab.Identity.STS.Identity)"'
[2020-01-24T12:31:23.7058181+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 246.2307ms 200 text/html; charset=utf-8
[2020-01-24T12:31:25.3540492+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://127.0.0.1.xip.io/Account/Logout application/x-www-form-urlencoded 235
[2020-01-24T12:31:25.3600700+00:00][DBUG][4][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Account/Logout" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2020-01-24T12:31:25.3609335+00:00][INFO][4][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-01-24T12:31:25.3777046+00:00][INFO][4][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-01-24T12:31:25.3783006+00:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Logout (ITLab.Identity.STS.Identity)"'
[2020-01-24T12:31:25.3951006+00:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Logout\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout(ITLab.Identity.STS.Identity.ViewModels.Account.LogoutInputModel)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T12:31:25.4515327+00:00][INFO][4][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed out.
[2020-01-24T12:31:25.4537716+00:00][INFO][4][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.External" signed out.
[2020-01-24T12:31:25.4606799+00:00][INFO][4][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.TwoFactorUserId" signed out.
[2020-01-24T12:31:25.4992443+00:00][INFO][4][IdentityServer4.Events.DefaultEventService] UserLogoutSuccessEvent { SubjectId: "5b39088d-4ed0-41cf-bfe7-a7ef9d110920", DisplayName: "admin", Category: "Authentication", Name: "User Logout Success", EventType: Success, Id: 1002, Message: null, ActivityId: "0HLT0P56P4HCA:00000004", TimeStamp: 01/24/2020 12:31:25, ProcessId: 2999, LocalIpAddress: "::ffff:172.19.0.4:80", RemoteIpAddress: "::ffff:172.19.0.1" }
[2020-01-24T12:31:25.5140529+00:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "LoggedOut".
[2020-01-24T12:31:25.5410414+00:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "LoggedOut" executed in 28.7277ms.
[2020-01-24T12:31:25.5427328+00:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Logout (ITLab.Identity.STS.Identity)" in 146.7665ms
[2020-01-24T12:31:25.5436058+00:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Logout (ITLab.Identity.STS.Identity)"'
[2020-01-24T12:31:25.5450099+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 191.1631ms 200 text/html; charset=utf-8
[2020-01-24T12:31:25.7481443+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/connect/endsession/callback?endSessionId=CfDJ8PbRv7TZNr9OslIYkJZi6sc0B31LeuMLz2Wk2NTO3fHXo9ZBIyOlTXsBvqoJoms41cFsQpS7JjK1JBWdZZSpqbBHsGItlCfdOgCzcXsani-jSUOvg_fnzsYIlobh9s1GxHR_EFqqhf0XwzGQ5q9fB3Md_aIEwGyWvEsuDcT9N0WIBEvJH03p2wyIQGLyXPThk5hsfqhVArGO-yyNtLQh_q2i5qvE9DEyVAQyPW447e0Xp9gvIEWmgwCcKFZm02TyyUbyz7MOO2sJAP6GpQhb_OPTUc60STugCBDi-oyasfmecRwo7fHyJYLpHkoiEymbNw  
[2020-01-24T12:31:25.7587515+00:00][DBUG][13][IdentityServer4.Hosting.EndpointRouter] Request path "/connect/endsession/callback" matched to endpoint type "Endsession"
[2020-01-24T12:31:25.7696195+00:00][DBUG][13][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Endsession", successfully created handler: "IdentityServer4.Endpoints.EndSessionCallbackEndpoint"
[2020-01-24T12:31:25.7719499+00:00][INFO][13][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionCallbackEndpoint" for "/connect/endsession/callback"
[2020-01-24T12:31:25.7759743+00:00][DBUG][13][IdentityServer4.Endpoints.EndSessionCallbackEndpoint] Processing signout callback request
[2020-01-24T12:31:25.8559376+00:00][INFO][13][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T12:31:27.0310519+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("17"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2020-01-24T12:31:27.2635846+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T12:31:27.3403263+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T12:31:27.4161571+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T12:31:27.4462069+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T12:31:27.4704991+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T12:31:27.5058804+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T12:31:27.5310144+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T12:31:27.5497223+00:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/  
[2020-01-24T12:31:27.5559531+00:00][INFO][12][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T12:31:27.5636110+00:00][INFO][12][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "ITLab.Identity.STS.Identity.Controllers.HomeController" ("ITLab.Identity.STS.Identity").
[2020-01-24T12:31:27.5664245+00:00][INFO][12][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-01-24T12:31:27.5799486+00:00][INFO][12][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 13.4946ms.
[2020-01-24T12:31:27.5832432+00:00][INFO][12][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)" in 18.0775ms
[2020-01-24T12:31:27.5839778+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T12:31:27.5848579+00:00][INFO][12][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.HomeController.Index (ITLab.Identity.STS.Identity)"'
[2020-01-24T12:31:27.5874081+00:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 36.9886ms 200 text/html; charset=utf-8
[2020-01-24T12:31:27.6556992+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("17"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2020-01-24T12:31:28.3889644+00:00][DBUG][12][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2020-01-24T12:31:28.4009287+00:00][DBUG][12][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2020-01-24T12:31:28.4044022+00:00][DBUG][12][IdentityServer4.Validation.EndSessionRequestValidator] Client front-channel logout URLs: "http://127.0.0.1.xip.io:9000/signin-oidc?sid=2WO6r0lhtz01rBaLXNbMtQ&iss=http%3A%2F%2F127.0.0.1.xip.io"
[2020-01-24T12:31:28.4052279+00:00][DBUG][12][IdentityServer4.Validation.EndSessionRequestValidator] No client back-channel logout URLs
[2020-01-24T12:31:28.4112728+00:00][INFO][12][IdentityServer4.Endpoints.EndSessionCallbackEndpoint] Successful signout callback.
[2020-01-24T12:31:28.4149633+00:00][DBUG][12][IdentityServer4.Endpoints.EndSessionCallbackEndpoint] Client front-channel iframe urls: ["http://127.0.0.1.xip.io:9000/signin-oidc?sid=2WO6r0lhtz01rBaLXNbMtQ&iss=http%3A%2F%2F127.0.0.1.xip.io"]
[2020-01-24T12:31:28.4167758+00:00][DBUG][12][IdentityServer4.Endpoints.EndSessionCallbackEndpoint] No client back-channel iframe urls
[2020-01-24T12:31:28.4299835+00:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 2682.2893ms 200 text/html; charset=UTF-8
[2020-01-24T12:31:29.3081119+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://127.0.0.1.xip.io/Account/Login  
[2020-01-24T12:31:29.3159856+00:00][INFO][15][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T12:31:29.3448525+00:00][INFO][15][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T12:31:29.3787087+00:00][INFO][15][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-01-24T12:31:29.4508624+00:00][INFO][15][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 78.3848ms.
[2020-01-24T12:31:29.4512362+00:00][INFO][15][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)" in 104.7611ms
[2020-01-24T12:31:29.4519567+00:00][INFO][15][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T12:31:29.4557664+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 147.0073ms 200 text/html; charset=utf-8
[2020-01-24T12:31:33.9344855+00:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://127.0.0.1.xip.io/Account/Login application/x-www-form-urlencoded 286
[2020-01-24T12:31:33.9352144+00:00][DBUG][12][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Account/Login" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2020-01-24T12:31:33.9355903+00:00][INFO][12][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-01-24T12:31:33.9380400+00:00][INFO][12][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>.Login (ITLab.Identity.STS.Identity)"'
[2020-01-24T12:31:33.9833849+00:00][INFO][12][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ITLab.Identity.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "ITLab.Identity.STS.Identity.Controllers.AccountController<Models.People.User, System.Guid>" ("ITLab.Identity.STS.Identity").
[2020-01-24T12:31:40.2455543+00:00][INFO][12][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.1" initialized '"DataBaseContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=ITLab.Identity.Admin.EntityFramework.PostgreSQL "
[2020-01-24T12:31:40.2694162+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2020-01-24T12:31:40.3546528+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FirstName\", a.\"LastName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"MiddleName\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"
FROM \"AspNetUsers\" AS a
WHERE a.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2020-01-24T12:31:40.5283833+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"ClaimType\", a.\"ClaimValue\", a.\"UserId\"
FROM \"AspNetUserClaims\" AS a
WHERE a.\"UserId\" = @__user_Id_0"
[2020-01-24T12:31:40.5933409+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT a0.\"Name\"
FROM \"AspNetUserRoles\" AS a
INNER JOIN \"AspNetRoles\" AS a0 ON a.\"RoleId\" = a0.\"Id\"
WHERE a.\"UserId\" = @__userId_0"
[2020-01-24T12:31:40.7293742